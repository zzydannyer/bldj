!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";window.__JSSDK_VERSION__={SDKVersion:"3.1.2",SDKCDNVersion:"1.5.28",CommitHash:""};var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var r=t(n((function(e){function t(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),o=n((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),i=n((function(e){var t=o.default;function n(){
    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
    e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=d;var h={};function p(){}function v(){}function g(){}var m={};l(m,s,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(M([])));k&&k!==o&&i.call(k,s)&&(m=k);var b=g.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,n){function r(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==t(d)&&i.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;this._invoke=function(e,t){function i(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return v.prototype=g,l(b,"constructor",g),l(g,"constructor",v),v.displayName=l(g,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},r.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,c,(function(){return this})),r.AsyncIterator=S,r.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var a=new S(d(e,t,n,o),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=M,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}))(),a=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}var s,c,u,l=t(n((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),d=n((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports})),f=n((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports})),h=t(n((function(e){e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}))),p=t(n((function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports})));!function(e){e.userCaptureScreenObserved="userCaptureScreenObserved",e.onWatermarkChangeObserved="onWatermarkChange",e.onDownloadTaskStateChange="onDownloadTaskStateChange",e.nfcFoundDevice="nfcFoundDevice"}(s||(s={})),function(e){e.IOS="ios",e.ANDROID="android",e.MAC="mac",e.WINDOWS="windows"}(c||(c={})),function(e){e.CDN="cdn",e.NPM="npm",e.DEV="dev"}(u||(u={}));var v=function(e){var t;if(e.includes("Lark")||e.includes("Feishu"))return null==(t=e.match(/(lark|feishu|lark-staging|feishu-staging|lark-prerelease|feishu-prerelease|lark-oversea)\/([\d.]+)/i))?void 0:t[2]},g={versions:function(){var e=navigator.userAgent,t=navigator.platform,n=/(Android|iPhone|iPad|iPod|iOS)/i.test(e),r=v(e),o=e.includes("Lark")||e.includes("Feishu"),i=r&&b(r,"3.46.0")<0,a=r&&b(r,"3.46.0")>=0&&e.includes("WebApp");return{trident:e.includes("Trident"),presto:e.includes("Presto"),webKit:e.includes("AppleWebKit"),gecko:e.includes("Gecko")&&!e.includes("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.includes("Android")||e.includes("Linux"),iPhone:e.includes("iPhone")||e.includes("Mac"),iPad:e.includes("iPad"),webApp:!e.includes("Safari"),PCFeishu:!n&&o&&(i||a),mobileFeishu:n&&o,larkVersion:v(e),mac:t.includes("Mac"),win:t.includes("Win")}}()};function m(){return new Promise((function(e){var t=0;!function n(){var r,o;(null==(r=window.webkit)||null==(o=r.messageHandlers)?void 0:o.invoke)||window.WebViewJavascriptBridge||window.LarkWebViewJavaScriptBridge||t>100?e(0):(setTimeout(n,10+t),t++)}()}))}function y(e){return Object.prototype.toString.call(e).slice(8,-1)}function k(e,t){t?console.warn("銆怘5-JS-SDK銆�: "+e):console.error("銆怘5-JS-SDK銆�: "+e)}function b(e,t){for(var n=e.replace(/-\d*$/,"").split(".").map((function(e){return+e})),r=t.replace(/-\d*$/,"").split(".").map((function(e){return+e})),o=0;o<n.length;o++){if(n[o]>r[o])return 1;if(n[o]<r[o])return-1}return 0}var w=n((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),S=t(n((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,A=window,I=A.btoa||function(e){for(var t,n,r,o,i="",a=0,s=(e=String(e)).length%3;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError('Failed to execute "btoa" on "Window": The string '+e+" to be encoded contains characters outside of the Latin1 range.");i+=_.charAt((t=n<<16|r<<8|o)>>18&63)+_.charAt(t>>12&63)+_.charAt(t>>6&63)+_.charAt(63&t)}return s?i.slice(0,s-3)+"===".substring(s):i},M=A.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!C.test(e))throw new TypeError('Failed to execute "atob" on "Window": The string '+e+" to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",i=0;i<e.length;)t=_.indexOf(e.charAt(i++))<<18|_.indexOf(e.charAt(i++))<<12|(n=_.indexOf(e.charAt(i++)))<<6|(r=_.indexOf(e.charAt(i++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o};function x(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return I(t)}function E(e,t,n){return void 0===n&&(n=!0),n?{key:e,value:t}:{key:e,base64:x(t)}}function T(e){if(null!=e){if("base64"in e)return function(e){for(var t=M(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}(e.base64);if("value"in e)return e.value}}function P(e){return function(t){return Object.prototype.toString.call(t).toLowerCase()===("[object "+e+"]").toLowerCase()}}var F=function(e,t){if(void 0===t&&(t=!0),!P("Object")(e))return e;var n=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];void 0!==o&&o instanceof ArrayBuffer&&void 0!==o.byteLength&&n.push(E(r,o,t))}if(n.length>0){for(var i=0;i<n.length;i++){delete e[n[i].key]}e.__nativeBuffers__=n}return e},L=function(e){if(!P("Object")(e)||!e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n,r=h(t);!(n=r()).done;){var o=n.value;if(o){var i=T(o);void 0!==i&&i instanceof ArrayBuffer&&(e[o.key]=i)}}return e},O=["info","warn","error","debug","log"],j=["error","warn"],N=["group","groupEnd"],D=new(function(){function e(){var e=this;this.prefix="[TMA]",this.type="",this.deprecated=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.warn.apply(e,["Deprecated:"].concat(n))},this.removeAt=function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=console).warn.apply(n,[e.prefix+"[WARN][DEV]","Deprecated(>= "+t.sdkVersion+" removed):"].concat(o))};for(var t,n=h(O);!(t=n()).done;){var r=t.value;this[r]=this.createLogMethod(r)}for(var o,i=h(N);!(o=i()).done;){var a=o.value;this[a]=this.createControlMethod(a)}}var t=e.prototype;return t.setPrefix=function(e){this.prefix=e},t.createLogMethod=function(e){var t=this;if(!j.includes(e))return function(){};var n=e.toUpperCase();return function(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(r=console)[e].apply(r,[t.prefix+"["+n+"][RUNTIME]"].concat(i))}},t.createControlMethod=function(e){return function(){}},l(e)}()),B=new Function("return this;")();B.webkit;var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",z=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,U=B.btoa||function(e){for(var t,n,r,o,i="",a=0,s=(e=String(e)).length%3;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError('Failed to execute "btoa" on "Window": The string '+e+" to be encoded contains characters outside of the Latin1 range.");i+=R.charAt((t=n<<16|r<<8|o)>>18&63)+R.charAt(t>>12&63)+R.charAt(t>>6&63)+R.charAt(63&t)}return s?i.slice(0,s-3)+"===".substring(s):i},W=B.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!z.test(e))throw new TypeError('Failed to execute "atob" on "Window": The string '+e+" to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",i=0;i<e.length;)t=R.indexOf(e.charAt(i++))<<18|R.indexOf(e.charAt(i++))<<12|(n=R.indexOf(e.charAt(i++)))<<6|(r=R.indexOf(e.charAt(i++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o};function V(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return U(t)}function q(e){for(var t=W(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}function H(e){return Object.prototype.toString.call(e).split(" ")[1].slice(0,-1)}function J(e,t){var n,r=null,o=void 0,i=function(){n&&clearTimeout(n),n=null,r&&(o=e.apply(void 0,r)),r=null},a=function(){n&&clearTimeout(n),n=null},s=function(){a();for(var e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return r=s,n=setTimeout(i,t),o};return s.cancel=a,s.flush=i,s}function K(e,t,n){var r,o=n.errMsg,i=void 0===o?"unknown":o,a=n.context,s=void 0===a?e:a,c=n.wrap,u=n.action,l=void 0===u?"report":u,d=n.reporter;try{r=e.apply(s,t)}catch(e){var f=e;if(c&&(f=c(e,i)),"throw"===l)throw f;"report"===l&&d?d(f,n):D.error(f)}return r}function G(e){return[function(t,n,r){return K(t,n,Object.assign({},e,r))},function(t,n){var r=Object.assign({},e,n);return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return K(t,n,r)}}]}var Q=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),Z=function(){function e(e){var t;void 0===e&&(e={}),this.events=new Map,this.callbackMap=new WeakMap,this.wrapper=void 0,this.wrapper=null!=(t=e.wrapper)?t:null}var t=e.prototype;return t.emit=function(e,t){var n=this.events.get(e);null==n||n.forEach((function(e){return e(t)}))},t.on=function(e,t){if("function"==typeof t){var n=this.events.get(e);n||(n=[],this.events.set(e,n));var r=t;if(this.wrapper){var o=this.callbackMap.get(t);o?r=o:(r=this.wrapper(t),this.callbackMap.set(t,r))}n.push(r)}},t.off=function(e,t){if(t){var n=this.wrapper?this.callbackMap.get(t):t,r=this.events.get(e);if("function"==typeof n&&r){var o=r.indexOf(n);-1!==o&&r.splice(o,1),0===r.length&&this.events.delete(e)}}else this.events.delete(e)},t.size=function(e,t){var n=this.events.get(e);if(!n)return 0;if(!t)return n.length;var r=this.wrapper?this.callbackMap.get(t):t;return"function"!=typeof r?0:n.filter((function(e){return e===r})).length},t.removeAllListeners=function(){this.events=new Map},l(e)}();function $(e,t,n){return void 0===n&&(n=!1),n?{key:e,value:t}:{key:e,base64:V(t)}}function Y(e){if(null!=e){if("base64"in e)return q(e.base64);if("value"in e)return e.value}}function X(e){return function(t){return Object.prototype.toString.call(t).toLowerCase()===("[object "+e+"]").toLowerCase()}}function ee(e){if(!X("Object")(e)||!e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n,r=h(t);!(n=r()).done;){var o=n.value;if(o){var i=Y(o);void 0!==i&&i instanceof ArrayBuffer&&(e[o.key]=i)}}return e}var te,ne,re,oe,ie,ae={pack:function(e,t){if(void 0===t&&(t=!1),!X("Object")(e))return e;var n=[];for(var r in e){var o=e[r];void 0!==o&&o instanceof ArrayBuffer&&void 0!==o.byteLength&&n.push($(r,o,t))}if(n.length>0){for(var i=0;i<n.length;i++){delete e[n[i].key]}e.__nativeBuffers__=n}return e},unpack:ee,unpack2:ee};!function(e){e[e.trace=1]="trace",e[e.normal=2]="normal",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(te||(te={})),function(e){e.traceId="trace_id",e.errorCode="error_code",e.errorMsg="error_msg",e.time="time",e.duration="duration",e.monitorLevel="monitor_level",e.monitorDomain="monitor_domain",e.monitorCode="monitor_code",e.monitorID="monitor_id",e.monitorMessage="monitor_message",e.monitorTags="monitor_tags",e.monitorFile="monitor_file",e.monitorFunction="monitor_function",e.monitorLine="monitor_line",e.monitorColumn="monitor_column",e.monitorStack="monitor_stack",e.resultType="result_type"}(ne||(ne={})),function(e){e.BATCH="BATCH"}(re||(re={})),function(e){e.success="success",e.fail="fail",e.cancel="cancel",e.timeout="timeout"}(oe||(oe={})),function(e){e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(ie||(ie={}));var se,ce,ue=",",le="op_monitor_event",de="op_monitor",fe="event_name";!function(e){e.warn="warn",e.error="error"}(se||(se={})),function(e){e.sampleRate="sample_rate",e.traceSampleRate="trace_sample_rate",e.normalSampleRate="normal_sample_rate",e.warnSampleRate="warn_sample_rate",e.errorSampleRate="error_sample_rate",e.fatalSampleRate="fatal_sample_rate",e.rules="rules",e.priority="priority",e.filters="filters",e.key="key",e.values="values"}(ce||(ce={}));var he=function(){};function pe(e){return void 0===e}var ve,ge,me={string:function(e){return"string"==typeof e||"String"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)},undefined:pe,void:function(e){return pe(e)||null===e},object:function(e){return null!==e&&"object"==typeof e},number:function(e){return"number"==typeof e&&!Number.isNaN(e)},function:function(e){return"function"==typeof e}};function ye(e,t){return Object.entries(e).filter((function(e){var n=e[0],r=e[1];return!t(r,n)})).reduce((function(e,t){var n,r=t[0],o=t[1];return Object.assign(e,((n={})[r]=o,n))}),{})}function ke(e,t,n){Object.defineProperty(e,t,{get:function(){return n},set:function(){}})}function be(){return ve||(ve=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}())}!function(e){e[e.NONE=0]="NONE",e[e.INITED=1]="INITED",e[e.DESTROYED=2]="DESTROYED"}(ge||(ge={}));var we=function(){function e(){this._lifeState=ge.NONE,this._setupHandlers=[],this._teardownHandlers=[]}var t=e.prototype;return t.setup=function(){var e=this;this._setupHandlers.forEach((function(t){var n=t();"function"==typeof n&&e._teardownHandlers.push(n)}))},t.teardown=function(){this._teardownHandlers.forEach((function(e){return e()}))},t.addSetupHandler=function(e){this._setupHandlers.push(e)},t.addTeardownHandler=function(e){this._teardownHandlers.push(e)},t._runSetup=function(){this._lifeState===ge.NONE&&(this._lifeState=ge.INITED,this.setup())},t._runTeardown=function(){this._lifeState===ge.INITED&&(this._lifeState=ge.DESTROYED,this.teardown())},l(e,[{key:"isReady",get:function(){return this._lifeState===ge.INITED}},{key:"isDestroyed",get:function(){return this._lifeState===ge.DESTROYED}}]),e}();function Se(e){e._runSetup()}var _e=function(){function e(e){var t=e.priority,n=e.sampleRate,r=e.filters;this.priority=0,this.filters=[],this.priority=t,this.sampleRate=n,this.filters=r}return e.prototype.match=function(e){return this.filters.every((function(t){return t.match(e)}))},l(e)}(),Ce=function(){function e(e){var t=e.key,n=e.values;this.key="",this.values=[],this.key=t,this.values=n}return e.prototype.match=function(e){var t=""+e[this.key];return this.values.includes(t)},l(e)}(),Ae=function(){function e(){this._defaultSampleRate=1,this._traceSampleRate=0,this._normalSampleRate=1,this._warnSampleRate=1,this._errorSampleRate=1,this._fatalSampleRate=1,this._orderedRules=[]}var t=e.prototype;return t.buildConfig=function(e){void 0===e&&(e={});var t=e,n=t[ce.sampleRate],r=t[ce.traceSampleRate],o=t[ce.normalSampleRate],i=t[ce.warnSampleRate],a=t[ce.errorSampleRate],s=t[ce.fatalSampleRate],c=t[ce.rules];me.number(n)&&(this._defaultSampleRate=n),me.number(r)&&(this._traceSampleRate=r),me.number(o)&&(this._normalSampleRate=o),me.number(i)&&(this._warnSampleRate=i),me.number(a)&&(this._errorSampleRate=a),me.number(s)&&(this._fatalSampleRate=s);var u=this._parseRules(c);this._orderedRules=u.sort((function(e,t){return t.priority-e.priority}))},t.getSampleRate=function(e){var t=this._getMatchedRuleInOrderedRules(e),n=this._defaultSampleRate;switch(e[ne.monitorLevel]){case te.trace:n=this._traceSampleRate;break;case te.normal:n=this._normalSampleRate;break;case te.warn:n=this._warnSampleRate;break;case te.error:n=this._errorSampleRate;break;case te.fatal:n=this._fatalSampleRate}return t&&!me.undefined(t.sampleRate)&&(n=t.sampleRate),n>=1?1:0},t._getMatchedRuleInOrderedRules=function(e){return this._orderedRules.find((function(t){return t.match(e)}))},t._parseRules=function(e){return Array.isArray(e)?e=e.map((function(e){if(me.object(e)){var t=e[ce.priority],n=e[ce.sampleRate],r=e[ce.filters];return me.number(t)||(t=0),me.number(n)||(n=void 0),r=Array.isArray(r)?r.map((function(e){if(me.object(e)){var t=e,n=t[ce.key],r=t[ce.values];return me.string(n)&&Array.isArray(r)?e=new Ce({key:n,values:r}):void 0}})).filter((function(e){return e})):[],new _e({priority:t,sampleRate:n,filters:r})}})).filter((function(e){return e})):[]},l(e)}(),Ie=function(){function e(t){var n=this;if(this._domainToNameRegistry=new Map,this._domainToParamInjectorRegistry=new Map,this._domainToNameCache=new Map,t instanceof e)return t;var r=t||{},o=r.defaultName,i=void 0===o?le:o,a=r.log,s=r.report,c=void 0===s?he:s,u=r.commonMetrics,l=void 0===u?{}:u,d=r.commonCategories,f=void 0===d?{}:d,h=r.commonTags,p=void 0===h?[]:h,v=r.defaultPlatform,g=void 0===v?"Slardar":v,m=r.domainToNameMap,y=r.domainToParamInjectorMap;this.defaultName=String(i),this.defaultPlatform=g,this._log=a,this._report=c,this.commonMetrics=l,this.commonCategories=f,this.commonTags=new Set(p),m&&Object.entries(m).forEach((function(e){var t=e[0],r=e[1];n.registerEvent(r,t)})),y&&Object.entries(y).forEach((function(e){var t=e[0],r=e[1];n.registerParamInjector(t,r)}))}var t=e.prototype;return t.setRemoteConfig=function(e){this._remoteConfig=e},t.getRemoteConfig=function(){return this._remoteConfig?this._remoteConfig:this.constructor.globalRemoteConfig},t.log=function(e){me.function(this._log)&&this._log(e)},t.report=function(e){var t,n=this.getRemoteConfig(),r=e.name,o=e.metrics,i=e.categories,a=Object.assign(Object.assign(((t={})[fe]=r,t),o),i);n.getSampleRate(a)<1||this._report(e)},t.registerEvent=function(e,t){if(this._domainToNameRegistry.get(t)!==e){this._domainToNameRegistry.set(t,e);for(var n,r=h(this._domainToNameCache.keys());!(n=r()).done;){var o=n.value;o.startsWith(t)&&this._domainToNameCache.delete(o)}}},t.getNameByDomain=function(e){return this._findName(e)||this.defaultName},t.registerParamInjector=function(e,t){this._domainToParamInjectorRegistry.set(e,t)},t.applyParamInjectorByDomain=function(e,t){for(var n=e.split("."),r=n.length,o=1;o<=r;o++){var i=n.slice(0,o).join("."),a=this._domainToParamInjectorRegistry.get(i);me.function(a)&&a(t)}},t._findName=function(e){if(this._domainToNameCache.has(e))return this._domainToNameCache.get(e);for(var t,n=e.split("."),r=n.length,o=0;o<r;o++){var i=n.slice(0,r-o).join(".");if(t=this._domainToNameRegistry.get(i))return this._domainToNameCache.set(i,t),t}return this.defaultName},l(e)}();Ie.globalRemoteConfig=new Ae;var Me=function(){function e(t){if(this.cacheList=[],this.waitingForReport=!1,t instanceof e)return t;this._setConfig(t)}e.setup=function(e){this.default._setConfig(e)};var t=e.prototype;return t.getConfig=function(){return this.config},t.log=function(e){if(me.function(this.config.log)){var t=ie.info;switch(e.getLevel()){case te.trace:case te.normal:t=ie.info;break;case te.warn:t=ie.warn;break;case te.error:t=ie.error;break;case te.fatal:t=ie.fatal;break;default:t=ie.info}var n=de,r=e.getValue(ne.monitorFile),o=e.getValue(ne.monitorFunction),i=e.getValue(ne.monitorLine),a=e.getData(),s="monitor_event : "+e.getName()+" "+JSON.stringify(a);this.invokeLog(ye({level:t,tag:n,file:r,functionName:o,line:i,content:s},pe))}},t.reportTo=function(e){var t=e.getValue(ne.monitorDomain);t&&this.config.applyParamInjectorByDomain(String(t),e);var n=this._getName(e),r=e.getMetrics(),o=e.getCategories(),i=e.getInternalData(),a=this._getPlatform(e);me.function(this.config.report)&&this.invokeReport(ye({name:n,metrics:r,categories:o,internalData:i,platform:a},pe))},t.flush=function(e){var t=e.getInternalData(),n=t.logEnabled,r=void 0===n||n,o=t.reportEnabled,i=void 0===o||o,a=e.getValue(ne.monitorDomain);a&&this.config.applyParamInjectorByDomain(String(a),e);var s=this._getName(e),c=e.getMetrics(),u=e.getCategories(),l=e.getInternalData(),d=this._getPlatform(e);i&&me.function(this.config.report)&&this.invokeReport(ye({name:s,metrics:c,categories:u,internalData:l,platform:d},pe)),r&&this.log(e)},t.flushWithThrottle=function(e){var t=this,n=this.getConfig();if(me.function(this.config.report)){var r=e.getValue(ne.monitorDomain);r&&this.config.applyParamInjectorByDomain(String(r),e);var o,i=this._getPlatform(e),a=this._getName(e),s=function(){t.cacheList.forEach((function(e){return n.report(Object.assign(Object.assign({},e),{platform:i}))})),t.cacheList.length=0,t.waitingForReport=!1,be().clearTimeout(o)};this.cacheList.push({name:a,metrics:e.getMetrics(),categories:e.getCategories(),internalData:e.getInternalData()});var c=e.getValue(ne.monitorLevel);this.cacheList.length>=20||c&&c>=te.error?s():this.waitingForReport||(this.waitingForReport=!0,o=be().setTimeout((function(){s()}),2e3))}},t.invokeLog=function(e){me.function(this.config.log)&&this.config.log(e)},t.invokeReport=function(e){me.function(this.config.report)&&this.config.report(e)},t._setConfig=function(e){this.config=new Ie(e)},t._getName=function(e){var t=e.getValue(ne.monitorDomain);return e.getName()||t&&this.config.getNameByDomain(String(t))||this.config.defaultName},t._getPlatform=function(e){return e.platform||this.config.defaultPlatform},l(e)}();Me.default=new Me;var xe=function(){function e(t){if(t instanceof e)return t;var n=t||{},r=n.domain,o=n.code,i=n.level,a=n.message;ke(this,"version",1),ke(this,"domain",String(r)),ke(this,"code",Number(o)),ke(this,"ID",String(this.generateID())),ke(this,"level",i),ke(this,"message",String(a))}var t=e.prototype;return t.equals=function(t){return t instanceof e&&t.ID===this.ID},t.toJSON=function(){return{domain:this.domain,code:this.code,level:this.level,message:this.message}},t.generateID=function(){return this.version+"-"+this.domain+"-"+this.code},l(e)}(),Ee=function(){function e(e){this.metrics={},this.categories={},this.internalData={},this.tags=new Set,this._time=0,this._startTime=0,this._endTime=0,this._flushed=!1;var t=e||{},n=t.service,r=t.name,o=void 0===r?le:r,i=t.code,a=t.platform,s=t.metrics,c=t.categories,u=t.internalData;this.service=n?new Me(n):Me.default,this.name=o,this._platform=a,i&&(this.code=new xe(i)),this.categories=Object.assign(Object.assign({},this.service.getConfig().commonCategories),c),this.metrics=Object.assign(Object.assign({},this.service.getConfig().commonMetrics),s),this.tags=new Set(this.service.getConfig().commonTags),this.internalData=Object.assign({},u)}var t=e.prototype;return t.addMetricValue=function(e,t){return me.undefined(t)||(this.metrics[e]=t),this},t.addCategoryValue=function(e,t){return me.undefined(t)||(this.categories[e]=t),this},t.addTag=function(e){return me.undefined(e)||this.tags.add(e),this},t.addMap=function(e){var t=this;return void 0===e&&(e={}),Object.entries(e).forEach((function(e){var n=e[0],r=e[1];me.undefined(r)||(me.number(r)?t.metrics[n]=r:t.categories[n]=r)})),this},t.tracing=function(e){return me.undefined(e)||this.addCategoryValue(ne.traceId,e),this},t.flush=function(e){if(!this._flushed){this._flushed=!0;var t=this.getInternalData(),n=t.logEnabled,r=void 0===n||n,o=t.reportEnabled,i=void 0===o||o,a=this.code||(this.hasErrorInfo()?this.codeIfError:void 0);me.undefined(this.level)&&a&&a.level&&this.setLevel(a.level),a&&(this.addCategoryValue(ne.monitorDomain,a.domain),this.addMetricValue(ne.monitorCode,a.code),this.addCategoryValue(ne.monitorMessage,a.message)),this.tags&&this.addCategoryValue(ne.monitorTags,this.tagsInline()),this.time<=0&&this.setTime(Date.now()),i&&(e||this.service).reportTo(this),r&&this.service.log(this)}},t.flushWithThrottle=function(){this._flushed||(this._flushed=!0,this.service.flushWithThrottle(this))},t.setMonitorCode=function(e){return me.undefined(e)||(this.code=new xe(e)),this},t.setMonitorCodeIfError=function(e){return me.undefined(e)||(this.codeIfError=new xe(e)),this},t.setLevel=function(e){return me.undefined(e)||(this.level=e,this.addMetricValue(ne.monitorLevel,e)),this},t.setErrorCode=function(e){return me.undefined(e)||this.addCategoryValue(ne.errorCode,String(e)),this},t.setErrorMessage=function(e){return me.undefined(e)||this.addCategoryValue(ne.errorMsg,String(e)),this},t.setError=function(e){if(me.undefined(e))return this;var t=e.message,n=e.fileName,r=e.lineNumber,o=e.columnNumber,i=e.stack,a=e.code,s=e.monitorCode;return me.string(t)&&this.addCategoryValue(ne.errorMsg,t),me.string(n)&&this.addCategoryValue(ne.monitorFile,n),me.string(i)&&this.addCategoryValue(ne.monitorStack,i),me.number(a)&&this.addMetricValue(ne.errorCode,a),me.number(r)&&this.addMetricValue(ne.monitorLine,r),me.number(o)&&this.addMetricValue(ne.monitorColumn,o),s&&this.setMonitorCode(s),this},t.setTime=function(e){return me.undefined(e)||(this._time=e,this.addMetricValue(ne.time,e)),this},t.setPlatform=function(e){return e&&(this._platform=e),this},t.timing=function(e){var t=Date.now();return this._startTime>0?(this._endTime=t,this.addMetricValue(e||ne.duration,this._endTime-this._startTime)):this._startTime=t,this},t.setDuration=function(e){return me.undefined(e)||this.addMetricValue(ne.duration,e),this},t.getCode=function(){return this.code},t.getName=function(){return this.name},t.getMetrics=function(){return Object.assign({},this.metrics)},t.getCategories=function(){return Object.assign({},this.categories)},t.getInternalData=function(){return this.internalData},t.getData=function(){return Object.assign(Object.assign({},this.metrics),this.categories)},t.getValue=function(e){return this.metrics[e]||this.categories[e]},t.setResultType=function(e){return this.addCategoryValue(ne.resultType,e),this},t.setResultTypeSuccess=function(){return this.setResultType(oe.success),this},t.setResultTypeFail=function(){return this.setResultType(oe.fail),this},t.setResultTypeCancel=function(){return this.setResultType(oe.cancel),this},t.setResultTypeTimeout=function(){return this.setResultType(oe.timeout),this},t.getLevel=function(){return this.level},t.getMonitorId=function(){return this.code&&this.code.ID},t.getMonitorDomain=function(){return this.code&&this.code.domain},t.toJSON=function(){return{name:this.name,categories:this.getCategories(),metrics:this.getMetrics()}},t.addInternalData=function(e){return Object.assign(this.internalData,e),this},t.hasErrorInfo=function(){return!me.undefined(this.getValue(ne.errorCode))||!me.undefined(this.getValue(ne.errorMsg))},t.tagsInline=function(){return 0===this.tags.size?"":Array.from(this.tags).reduce((function(e,t){return""+e+(t?ue+t:"")}))},l(e,[{key:"time",get:function(){return this._time}},{key:"platform",get:function(){return this._platform}}]),e}(),Te=function(e,t,n,r){return{domain:e,code:t,level:n,message:r}},Pe=function(){return te.error}(),Fe=function(){return te.warn}(),Le=function(){return te.normal}(),Oe=function(e,t,n){return Te(e,t,Fe,n)},je=function(e,t,n){return Te(e,t,Le,n)},Ne="js.open_platform.gadget",De="mp_api_invoke_result",Be="op_js_network",Re="op_network_v1_bk_dev",ze=Ne+".js_runtime_error",Ue=Te(ze,10001,Pe,"app_service_sdk_script_error"),We=Oe(ze,10004,"third_script_error"),Ve=Oe(Ne,1e4,"undefined_default_code"),qe=Oe("js.open_platform.gadget.api",10004,"api_queue_timeout"),He=Ne+".network",Je=je(He,1e4,"request_result"),Ke=je(He,10002,"upload_result"),Ge=je(He,10003,"abort_upload"),Qe=je(He,10004,"download_result"),Ze=je(He,10005,"abort_download"),$e=je(He,10006,"request_enter_waiting_queue"),Ye=je(He,10020,"op_network_v1_bk_dev");(function(){function e(e){var t,n,r=this;this.maxCacheCount=void 0,this.maxCacheTime=void 0,this.list=[],this.handler=null,this.config=(t=new Ie({report:function(e){return r.report(e)},log:function(){}}),(n=new Ae).buildConfig({sample_rate:1,trace_sample_rate:1,normal_sample_rate:1,warn_sample_rate:1,error_sample_rate:1,fatal_sample_rate:1}),t.setRemoteConfig(n),t),this.maxCacheCount=e.maxCacheCount,this.maxCacheTime=e.maxCacheTime}e.init=function(t){var n,r,o=this.OPMonitor=new e({maxCacheCount:null!=(n=t.maxCacheCount)?n:10,maxCacheTime:null!=(r=t.maxCacheTime)?r:500});Me.setup(o.config)},e.get=function(){return this.OPMonitor};var t=e.prototype;return t.report=function(e){var t=this,n=e.name,r=e.metrics,o=e.categories,i=void 0===o?{}:o,a=e.platform,s=i.monitor_level,c={name:n,metrics:r,categories:i};"Slardar"!==a&&(c.platform=a),this.list.push(c),this.list.length>=this.maxCacheCount||s&&s>=te.error?this.flush():this.handler||(this.handler=setTimeout((function(){t.handler=null,t.flush()}),this.maxCacheTime))},t.flush=function(){if(this.list.length){var e={monitorEvents:this.list},t=(void 0).agent.isSupportNewBridge?e:JSON.stringify(e);(void 0).ttJSBridge.invoke("monitorReport",t),this.list=[],this.handler&&(clearTimeout(this.handler),this.handler=null)}},l(e)}()).OPMonitor=void 0;var Xe,et=function(e){function t(){return e.apply(this,arguments)||this}return S(t,e),t.prototype.addMap=function(t){return e.prototype.addMap.call(this,t)},l(t)}(Ee),tt=function(e,t){return new et(e?{name:e,code:new xe(t)}:{name:"undefined_default_code",code:new xe(Ve)})};new Function("return this;")(),function(e){e.MOBILE="mobile",e.PC="pc",e.PC_SIDEBAR="pc_sidebar",e.PC_WINDOW="pc_window",e.IDE="lark_ide"}(Xe||(Xe={}));var nt=n((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),rt=t(nt),ot=n((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports})),it=n((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports})),at=n((function(e){function t(n,r,o){return it()?(e.exports=t=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&w(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));var st,ct,ut=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).errno=void 0,r.errString=void 0,function(e,t){t&&"cause"in t&&Object.defineProperty(e,"cause",{writable:!0,configurable:!0,enumerable:!1,value:t.cause})}(Q(r),n),r}return S(t,e),t.is=function(e){return e instanceof t},l(t)}(t(n((function(e){function t(n){var r="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!ot(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return at(e,arguments,nt(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),w(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})))(Error)),lt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).name="ThirdScriptError",t}return S(t,e),t.is=function(e){return e instanceof Error&&"ThirdScriptError"===e.name},l(t,[{key:"monitorCode",get:function(){return We}}]),t}(ut),dt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).name="ServiceError",t}return S(t,e),t.is=function(e){return e instanceof Error&&"ServiceError"===e.name},l(t,[{key:"monitorCode",get:function(){return Ue}}]),t}(ut),ft=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).name="ArgumentError",t}return S(t,e),l(t,[{key:"monitorCode",get:function(){}}]),t}(ut),ht=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).name="InvokeError",t}return S(t,e),l(t,[{key:"monitorCode",get:function(){}}]),t}(ut);!function(e){e.NAVIGATE_TO="navigateTo",e.REDIRECT_TO="redirectTo",e.NAVIGATE_BACK="navigateBack",e.SWITCH_TAB="switchTab",e.APP_LAUNCH="appLaunch",e.RE_LAUNCH="reLaunch",e.AUTO_RELAUNCH="autoReLaunch",e.RESTORE_TO="restoreTo",e.APP_RESTORE_LAUNCH="appRestoreLaunch",e.APP_ROUTE_DESTROY="appRouteDestroy",e.REFRESH="refresh"}(st||(st={})),function(e){e.DEFAULT="default",e.CLONE="clone",e.ACTIVATE="activate"}(ct||(ct={}));var pt=G({wrap:function(e,t){return new lt(t,{cause:e})},reporter:function(e,t){var n=t.data;null!=n&&n.dispatchUnhandledError?n.dispatchUnhandledError(e):D.error(e)}})[1],vt=["success","fail","complete","cancel"];function gt(e){return Object.prototype.toString.call(e).slice(8,-1)}function mt(e){return"Function"===gt(e)}function yt(e){return"Number"===gt(e)}var kt=function(){return"Internal error"},bt=function(e){return"Parameter error. Invalid value for "+e},wt=function(e){return"Parameter error. "+e+" is of wrong type"},St=function(e){return"Parameter error. "+e+" cannot be empty"},_t=function(){return"Parameter error. Some values exist in both choosenIds and disableChosenIds."},Ct=function(){return"Parameter error. openId and openChatId cannot be both empty."},At=function(){return"Unable to load image"},It=function(){return"Unable to load video"},Mt=function(){return"Path not be supported"},xt=function(){return"Total count of chosenOpenIds and chosenOpenChatIds exceeds limit, max 10 allowed."},Et=function(){return"Network failure"},Tt=function(){return"API not available"};function Pt(e,t){for(var n in t){var r=t[n];if(r.required&&!e.hasOwnProperty(n))return n+" should not be undefined";if(e.hasOwnProperty(n)){var o=gt(e[n]),i=r.type;if(o!==i)return n+" should pass "+i+", not "+o}}return!1}function Ft(e,t,n){void 0===n&&(n="param");var r=gt(e),o=gt(t);if(r!==o)return n+" should pass "+o+", not "+r;var i="";switch(o){case"Object":for(var a in t)i+=Ft(e[a],t[a],n+"."+a);break;case"Array":if(e.length<t.length)return n+" should have more than "+t.length+" items, not "+e.length+" items";for(var s=0;s<t.length;++s)i+=Ft(e[s],t[s],n+"["+s+"]")}return i}var Lt=102,Ot=103,jt=104,Nt=305,Dt=1002012,Bt=1002014,Rt=1003001,zt=1300007,Ut=1306001,Wt=1306002,Vt=function(e,t){return e.errno=jt,e.errString=bt(t),e},qt=function(e,t){return e.errno=jt,e.errString=wt(t),e};function Ht(e,t){var n=gt(e),r=gt(t);if(n===r&&"Object"===r)for(var o in t){if(gt(e[o])!==gt(t[o]))return wt(o)}return""}function Jt(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=""),void 0===r&&(r={});var o=e+":fail "+n,i=Object.assign({errMsg:o},r);mt(t.fail)&&en(t.fail,"at "+e+" fail callback")(i),mt(t.complete)&&en(t.complete,"at "+e+" complete callback")(i)}function Kt(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=e+":ok",o=Object.assign({errMsg:r},n);mt(t.success)&&en(t.success,"at "+e+" success callback")(o),mt(t.complete)&&en(t.complete,"at "+e+" complete callback")(o)}function Gt(e,t){if(void 0===t&&(t=!1),void 0===e||"object"!=typeof e)return e;var n=[];for(var r in e)if(e.hasOwnProperty(r))if(t)try{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}catch(t){n.push(r+"="+e[r])}else n.push(r+"="+e[r]);return n.join("&")}function Qt(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var n=function(e){if("string"==typeof e){var t=e.split("?");return{urlQueryObj:(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("=");e[n[0]]=n[1]}return e}),{}),prefix:t[0]}}return{}}(e),r=n.urlQueryObj,o=void 0===r?{}:r,i=n.prefix;return(void 0===i?"":i)+"?"+Gt(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}(o,Object.keys(t).reduce((function(e,n){return"object"==typeof t[n]?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{})))}return e}function Zt(e,t){return void 0===t&&(t="http"),"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function $t(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]||"boolean"==typeof e[n]?t[n]=""+e[n]:t[n]=Object.prototype.toString.apply(e[n]),t}),{})}var Yt=G({wrap:function(e,t){return ut.is(e)?e:new dt(t,{cause:e})},action:"throw"})[1];function Xt(e,t){return Yt(e,{errMsg:t,context:e})}function en(e,t){return pt(e,{errMsg:t,context:e})}var tn=Xt((function(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];return{data:e="Array"===t||"Object"===t?JSON.stringify(e):"String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"",dataType:t}}),"anyTypeToString");var nn=Xt((function(e,t){switch(t){case"String":return e;case"Array":case"Object":return JSON.parse(e);case"Number":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return new Date(parseInt(e));case"Undefined":return;case"Null":return null;default:return""}}),"stringToAnyType"),rn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function on(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*rn.length);t+=rn[r]}return t}var an=0;function sn(){return"02"+String(Date.now()).slice(-13)+on(32)+(an++%2176782336).toString(32).padStart(6,"0")}var cn;function un(e){return e.success,e.fail,e.complete,e.cancel,p(e,vt)}!function(e){e[e.unknown=0]="unknown",e[e.android=1]="android",e[e.iOS=2]="iOS"}(cn||(cn={}));var ln=0;var dn,fn,hn=["success","fail","cancel","complete","progress","eventName","isListener"],pn=function(e){function t(){return e.apply(this,arguments)||this}return S(t,e),t.prototype.invoke=function(t,n,r){var o=n.params,i=void 0===o?{}:o;if(n.__v2__){var a=i.success,s=i.fail,c=i.cancel,u=i.complete,l=i.progress,d=i.eventName,f=i.isListener,h=void 0!==f&&f,v=p(i,hn),g={method:t,params:Object.assign({},v,{__v2__:!0}),callbackConfig:{onSuccess:a,onFail:s,onProgress:l,onCancel:c,onComplete:u},eventName:d,isListener:h,isTT:!0};e.prototype.invokeNative.call(this,g)}else{var m=r.eventName,y=r.keep,k=void 0!==y&&y,b=r.onProgress,w=r.origialCallback;b&&(r.onProgress=function(e){e&&b(e.data)});var S={method:t,params:n,callbackConfig:r,eventName:m||t,isListener:k,isTT:!1,origialCallback:w};e.prototype.invokeNative.call(this,S)}},l(t)}(function(){function e(){var e=this;this.callbackMapObj={},this.callbackMap=new WeakMap,this._invokeQueue=[],this.randomId=on(8),this._onBridgeReady=function(){var t=e.callbackMapObj;window.LarkWebViewJavaScriptBridge={nativeCallBack:function(e){var n;null==(n=t[e.callbackID])||n[0](e)}},e._invokeQueue.forEach((function(e){e()}))},this._invokeNative=function(t){var n=t.method,r=t.params,o=t.callbackConfig,i=t.eventName,a=t.isListener,s=t.isTT,c=t.origialCallback,u=o.onSuccess,l=o.onFail,d=o.onProgress,f=o.onCancel,h=o.onComplete,p=a?i:""+ln++,v=function(t){var n=t.callbackType,r=t.data;if(r&&"string"==typeof r)try{r=JSON.parse(r)}catch(e){}r=L(r),"cancel"===n?(null==f||f(r),null==h||h(r)):"failure"===n?(null==l||l(r),null==h||h(r)):"continued"===n?null==d||d(r):(null==u||u(r),null==h||h(r)),a||"continued"===n||delete e.callbackMapObj[p]};if(a&&e.callbackMapObj[p]?e.callbackMapObj[p].push(v):e.callbackMapObj[p]=[v],a&&(d||c)){var g=c||d;e.callbackMap.set(g,e.callbackMapObj[p])}var m={apiName:n,data:F(r,!1),callbackID:p,extra:{callerID:e.randomId}};if(!a||!s){var y=e._getSystemType();if(y===cn.android)try{window.Lark_Bridge.invokeNative(JSON.stringify(m)||"")}catch(e){}y===cn.iOS&&window.webkit.messageHandlers.invokeNative.postMessage(m)}},window.addEventListener("WebViewJSBridgeReady",this._onBridgeReady.bind(this),!1)}var t=e.prototype;return t._getSystemType=function(){var e=navigator.userAgent;return/android/i.test(e)?cn.android:/iPad|iPhone|iPod/.test(e)?cn.iOS:cn.unknown},t._stashTask=function(e){this._invokeQueue.push(e)},t.invokeNative=function(e){var t=this;this._isNativeReady()?this._invokeNative(e):this._stashTask((function(){return t._invokeNative(e)}))},t.removeListener=function(e,t){var n=this.callbackMapObj[e];if(n&&Array.isArray(n)&&!(n.length<=0))if(t)for(var r=this.callbackMap.get(t),o=0;o<r.length;o++){var i=r[o],a=n.indexOf(i);if(!~a)return;n.splice(a,1),0===n.length&&delete this.callbackMapObj[e]}else delete this.callbackMapObj[e]},t._isNativeReady=function(){var e,t,n,r,o,i,a=this._getSystemType(),s=!1;a===cn.android&&(s=!(null==(e=window)||null==(t=e.Lark_Bridge)||!t.invokeNative));a===cn.iOS&&(s=!(null==(n=window)||null==(r=n.webkit)||null==(o=r.messageHandlers)||null==(i=o.invokeNative)||!i.postMessage));return s},l(e)}());!function(e){e.sdkEnter="h5jssdk_enter",e.sdkReady="h5jssdk_ready",e.getSdkConfigTimeout="h5jssdk_get_sdk_config_timeout",e.getSdkConfigError="h5jssdk_get_sdk_config_error",e.authenticationFailure="h5jssdk_authentication_failure"}(dn||(dn={})),function(e){e.success="success",e.fail="fail",e.cancel="cancel",e.timeout="timeout"}(fn||(fn={}));var vn,gn,mn,yn,kn,bn,wn,Sn="js.open_platform.web",_n=((vn={})[dn.getSdkConfigTimeout]={domain:Sn+".op_web_js_script_error",code:10001,level:te.error,message:"h5jssdk_get_sdk_config_timeout"},vn[dn.getSdkConfigError]={domain:Sn+".op_web_js_script_error",code:10002,level:te.error,message:"h5jssdk_get_sdk_config_error"},vn[dn.authenticationFailure]={domain:Sn+".op_web_js_script_error",code:10003,level:te.error,message:"h5jssdk_authentication_failure"},vn[fn.success]={domain:Sn+".api",code:1e4,level:te.normal,message:"api_success"},vn[fn.fail]={domain:Sn+".api",code:10002,level:te.error,message:"api_fail"},vn[fn.cancel]={domain:Sn+".api",code:10001,level:te.warn,message:"api_cancel"},vn[fn.timeout]={domain:Sn+".api",code:10003,level:te.error,message:"api_timeout"},vn[dn.sdkEnter]={domain:Sn+".op_h5sdk_common",code:1e4,level:te.normal,message:"h5jssdk_enter"},vn[dn.sdkReady]={domain:Sn+".op_h5sdk_common",code:10001,level:te.normal,message:"h5jssdk_ready"},vn.DEFAULT={domain:Sn,code:1e4,level:te.warn,message:"undefined_default_code"},vn),Cn="op_web_api_invoke_result",An=[],In=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=_n.DEFAULT),new Ee(e?{name:e,code:new xe(t)}:{name:"undefined_default_code",code:new xe(_n.DEFAULT)})},Mn=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._configReady=!0,this._configEvent="LarkConfigReady",this._invokeQueue=[],window.addEventListener(this._configEvent,this._onBridgeReady.bind(this),!1)}return e.prototype._fireEvent=function(e,t){var n=new CustomEvent(e,t);window.dispatchEvent(n)},e.prototype._submitTask=function(e){this._invokeQueue.push(e)},e.prototype._onBridgeReady=function(){this._invokeQueue.forEach((function(e){e()}))},e.prototype.register=function(e,t){},e.prototype.connectLkWebViewJavascriptBridge=function(e){},e.prototype.invoke=function(e,t,n){},e.prototype.config=function(e,t,n){var r=this;this.invoke(e,t,{onSuccess:function(){r._configReady=!0,n.onSuccess&&n.onSuccess(),r._fireEvent(r._configEvent,{})},onFail:function(e){r._configReady=!0,n.onFail&&n.onFail(e),r._fireEvent(r._configEvent,{})}}),this._configReady=!1},e}();t.BaseBridgeImpl=n})),xn=n((function(t,n){var r,o=e&&e.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e&&e.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return window.addEventListener("WebViewJavascriptBridgeReady",t._onBridgeReady.bind(t),!1),t}return o(t,e),t.prototype.invoke=function(e,t,n){var r=i({},t);n&&(r.onSuccess=this._wrapCallback(n.onSuccess,n.keep),r.onFailed=this._wrapCallback(n.onFail,n.keep),n.onProgress&&(r.onProgress=this._wrapProgress(n.onProgress)),r.callback=r.onSuccess),this._invokeiOS(e,r)},t.prototype._invokeiOS=function(e,t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.invoke?window.webkit.messageHandlers.invoke.postMessage({method:e,args:t}):this._iOSReady((function(){window.WebViewJavascriptBridge.invoke({method:e,args:t})}))},t.prototype._iOSReady=function(e){window.WebViewJavascriptBridge&&this._configReady?e():this._submitTask(e)},t.prototype._wrapCallback=function(e,t){void 0===t&&(t=!1);var n="func_"+Date.now()+"_"+Math.floor(1e4*Math.random());return window[n]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];"function"==typeof e&&e.apply(void 0,r),t||(window[n]=null)},n},t.prototype._wrapProgress=function(e){var t="func_progress"+Date.now()+"_"+Math.floor(1e4*Math.random());return window[t]=function(n){"function"==typeof e&&n&&(e(n.data),0==+n.state&&(window[t]=null))},t},t}(Mn.BaseBridgeImpl);n.iOSBridgeImpl=a})),En=n((function(t,n){var r,o=e&&e.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=e.call(this)||this;return document.addEventListener("LkWebViewJavascriptBridgeReady",t._onBridgeReady.bind(t),!1),t}return o(t,e),t.prototype.register=function(e,t){this._androidReady((function(){window.LkWebViewJavascriptBridge.registerHandler(e,t)}))},t.prototype.connectLkWebViewJavascriptBridge=function(e){var t=this;window.LkWebViewJavascriptBridge?(e(window.LkWebViewJavascriptBridge),this.register("fireEvent",(function(e,n){t._fireEvent(e.name,e.data)}))):(this._submitTask((function(){e(window.LkWebViewJavascriptBridge)})),this.register("fireEvent",(function(e,n){t._fireEvent(e.name,e.data)})))},t.prototype.invoke=function(e,t,n){this._androidReady((function(){n?window.LkWebViewJavascriptBridge.callHandler(e,t,n.onSuccess,n.keep,{onSuccess:n.onSuccess,onFailed:n.onFail,onProgress:n.onProgress}):window.LkWebViewJavascriptBridge.callHandler(e,t)}))},t.prototype._androidReady=function(e){if(!window.LkWebViewJavascriptBridge||!window.LkWebViewJavascriptBridge.callHandler||!window.LkWebViewJavascriptBridge.registerHandler)return this._configReady?console.log("add LkWebViewJavascriptBridgeReady listener"):console.log("add _configEvent listener Bridge is not ready"),void this._submitTask(e);this._configReady?e():(console.log("add _configEvent listener Bridge is ready"),this._submitTask(e))},t}(Mn.BaseBridgeImpl);n.AndroidBridegeImpl=i})),Tn=n((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.unknown=0]="unknown",e[e.android=1]="android",e[e.iOS=2]="iOS"}(n=t.OperatingSystemType||(t.OperatingSystemType={})),t.getOperatingSystemType=function(){var e=navigator.userAgent;return/android/i.test(e)?n.android:/iPad|iPhone|iPod/.test(e)?n.iOS:n.unknown}})),Pn=n((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.bridge=n,t.getBridge=function(){return n||(t.bridge=n=function(e){switch(e){case Tn.OperatingSystemType.android:return new En.AndroidBridegeImpl;case Tn.OperatingSystemType.iOS:return new xn.iOSBridgeImpl;default:throw"Cannot init bridge with Operator System Type: unkonwn"}}(Tn.getOperatingSystemType()),n.connectLkWebViewJavascriptBridge((function(e){e._messageHandler||e.init((function(e,t){t({init:"success!"})}))})),window._LarkJsBridge=n),n}})),Fn=["success","fail","cancel","complete"],Ln={invoke:function(){},config:function(){}};g.versions.mobileFeishu?g.versions.larkVersion&&b(g.versions.larkVersion,"3.46.0")>=0&&(null!=(yn=window)&&yn.Lark_Bridge||null!=(kn=window)&&null!=(bn=kn.webkit)&&null!=(wn=bn.messageHandlers)&&wn.invokeNative)?(window.isNewBridge=!0,Ln=new pn):Ln=Pn.getBridge():null!=(gn=window)&&null!=(mn=gn.__LarkPCSDK__)&&mn.bridge?Ln=window.__LarkPCSDK__.bridge:(k("cannot find pc bridge"),Ln={invoke:function(){},config:function(){}});var On={__v2__:!0},jn=0,Nn=function(e,t){return function(){return e(t.apply(void 0,arguments))}},Dn=function(){};var Bn={},Rn={},zn=function(e,t,n,r){var o,i={api_name:e};return t===fn.success?An.includes(e)&&"monitorReport"!==e&&In(Cn,_n[fn.success]).addMap(i).setResultType(fn.success).flush():t===fn.fail?"monitorReport"!==e&&In(Cn,_n[fn.fail]).addMap(i).setError((o=r,{name:(o=o||{}).name,code:void 0!==o.code?o.code:o.errorCode,message:o.message||o.errorMessage||o.errorMsg,fileName:o.fileName,stack:o.stack,lineNumber:o.lineNumber,columnNumber:o.columnNumber})).setResultType(fn.fail).flush():"monitorReport"!==e&&In(Cn,_n[t]).addMap(i).setResultType(t).flush(),r};Ln.on=function(e,t,n){if("function"==typeof n)if(Rn[e]=Rn[e]||[],0===Rn[e].length){var r={keep:!0,onSuccess:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Rn[e].forEach((function(e){return"function"==typeof e&&e.apply(void 0,n)}))},origialCallback:n};window.isNewBridge&&Object.assign(r,{eventName:e}),Rn[e].push(n),Ln.invoke(t,{},r)}else Rn[e].push(n)},Ln.off=function(e,t,n){window.isNewBridge&&Ln.removeListener(e,n),n?(Rn[e]=Rn[e]||[],Rn[e]=Rn[e].filter((function(e){return e!==n}))):delete Rn[e],Rn[e]&&0!==Rn[e].length||Ln.invoke(t,{},{})};var Un=Ln.invoke;Ln.invoke=r(a.mark((function e(){var t,n,r,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];if("function"==typeof n[3]&&(Bn[n[1].callbackId]=n[3]),+new Date,!g.versions.ios||window.isNewBridge){e.next=6;break}return e.next=6,m();case 6:"config"!==n[0]&&"getSDKConfig"!==n[0]&&"monitorReport"!==n[0]&&(n[2]=n[2]||{},n[2].onSuccess=Nn(n[2].onSuccess||Dn,(function(e){return zn(n[0],fn.success,0,e)})),n[2].onFail=Nn(n[2].onFail||Dn,(function(e){return zn(n[0],fn.fail,0,e)}))),Un.apply(Ln,n);case 8:case"end":return e.stop()}}),e)})));var Wn=Ln,Vn={invoke:function(e,t,n){var r=t.success,o=void 0===r?function(){}:r,i=t.fail,a=void 0===i?function(){}:i,s=t.cancel,c=void 0===s?function(){}:s;t.complete;var u=p(t,Fn),l=F(u,!1),d=jn++,f=+new Date;Bn[d]=[e,o,a,c,f];var h=Object.assign({},l,{params:window.isNewBridge?t:l},On,{callbackId:d});Wn.invoke(e,h,{},n)},invokeHandler:function(e,t){t=L(t);var n=Bn[e];if(n){var r=n[0],o=n[1],i=n[2],a=n[3];n[4];delete Bn[e];var s=t.errMsg,c=s.startsWith(r+":ok"),u=s.startsWith(r+":fail"),l=s.startsWith(r+":cancel");c?("function"==typeof o&&o(t),zn(r,fn.success,0,t)):u?("function"==typeof i&&i(t),zn(r,fn.fail,0,t)):("function"==typeof a&&a(t),zn(r,l?fn.cancel:fn.timeout,0,t))}},subscribe:function(e,t,n){if(Rn[e]&&Rn[e].length>0?Rn[e].push(n):Rn[e]=[n],window.isNewBridge){var r={success:n};Object.assign(r,{isListener:!0,eventName:e,progress:n}),Vn.invoke(t,r)}},unsubscribe:function(e,t,n){var r=Rn[e]||[];Rn[e]=r.filter((function(e){return e!==n})),0===Rn[e].length&&delete Bn[e],window.isNewBridge&&Wn.removeListener(e,n)},subscribeHandler:function(e,t){var n=Rn[e]||[];t=L(t),n.length&&n.forEach((function(e){"function"==typeof e&&e(t)}))}},qn=16e4;function Hn(e){if("string"==typeof e){if(e.length<814)throw new Error("闈炴硶鐨刡ase64String");return~~((e.length-814)/1.37)}return 0}var Jn,Kn={navigation:new(function(){function e(){}var t=e.prototype;return t.setTitle=function(e){Wn.invoke("biz.navigation.setTitle",e)},t.setLeft=function(e){Wn.invoke("biz.navigation.setLeft",{control:e.control,text:e.text,isShowIcon:e.isShowIcon},{onSuccess:e.onSuccess,keep:!0})},t.setRight=function(e){Wn.invoke("biz.navigation.setRight",e)},t.setMenu=function(e){(function(e){for(var t,n=h(e);!(t=n()).done;){var r=t.value;if(r.imageBase64&&Hn(r.imageBase64)>qn)throw new Error("imageSize瓒呰繃160000");if(r.imageBase64&&r.text)throw new Error("text鍜宨mageBase64鍙兘浼犱竴涓�")}return!0})(e.items)&&(Wn.off("biz.navigation.setMenu"),Wn.invoke("biz.navigation.setMenu",{items:e.items},{onSuccess:e.onSuccess,keep:!0}))},t.goBack=function(e){Wn.invoke("biz.navigation.goBack",{},{onSuccess:e.onSuccess})},t.close=function(e){Wn.invoke("biz.navigation.close",{},{onSuccess:e.onSuccess})},l(e)}()),util:new(function(){function e(){}var t=e.prototype;return t.uploadImage=function(e){Wn.invoke("biz.util.uploadImage",{multiple:e.multiple,max:e.max},{onSuccess:e.onSuccess})},t.copyText=function(e){Wn.invoke("biz.util.copyText",e)},t.share=function(e){var t=e.url,n=e.title,r=e.content,o=e.image,i=e.onSuccess;Wn.invoke("biz.util.share",{url:t,title:n,content:r,image:o},{onSuccess:i})},t.getCookies=function(e){Wn.invoke("biz.util.getCookies",{},{onSuccess:e.onSuccess})},t.scan=function(e){void 0===e&&(e={});var t={};e.type&&(t.type="string"==typeof e.type?[e.type]:e.type),void 0!==e.barCodeInput&&(t.barCodeInput=e.barCodeInput),Wn.invoke("biz.util.scan",t,{onSuccess:e.onSuccess})},t.datePicker=function(e){Wn.invoke("biz.util.datePicker",{format:e.format,value:e.value},{onSuccess:e.onSuccess})},t.timePicker=function(e){Wn.invoke("biz.util.timePicker",{format:e.format,value:e.value},{onSuccess:e.onSuccess})},t.dateTimePicker=function(e){Wn.invoke("biz.util.dateTimePicker",{format:e.format,value:e.value},{onSuccess:e.onSuccess})},t.chosen=function(e){Wn.invoke("biz.util.chosen",{source:e.source,selectedKey:e.selectedKey},{onSuccess:e.onSuccess})},t.multiSelect=function(e){Wn.invoke("biz.util.multiSelect",{options:e.options,selectOption:e.selectOption},{onSuccess:e.onSuccess})},t.getAppLanguage=function(e){Wn.invoke("biz.util.getAppLanguage",{},{onSuccess:e.onSuccess})},t.setAuthenticationInfo=function(e){Wn.invoke("biz.util.setAuthenticationInfo",JSON.parse(JSON.stringify(e)),{onSuccess:e.onSuccess,onFail:e.onFail})},t.startBiometrics=function(e){Wn.invoke("biz.util.startBiometrics",JSON.parse(JSON.stringify(e)),{onSuccess:e.onSuccess,onFail:e.onFail})},t.savePageSnapshot=function(e){Wn.invoke("biz.util.savePageSnapshot",{},{onSuccess:e.onSuccess,onFail:e.onFail})},t.sharePageSnapshot=function(e){Wn.invoke("biz.util.sharePageSnapshot",{},{onSuccess:e.onSuccess,onFail:e.onFail})},t.downloadFile=function(e){var t="downloadFile"+Date.now()+"_"+Math.floor(1e4*Math.random());return Wn.invoke("biz.util.downloadFile",{url:e.url,taskId:t},{onSuccess:e.onSuccess,onFail:e.onFail,onProgress:e.onProgress}),{abort:function(){Wn.invoke("biz.util.cancelDownloadFile",{taskId:t})}}},l(e)}()),reporter:new(function(){function e(){}return e.prototype.sendEvent=function(e,t,n){Wn.invoke("biz.reporter.sendEvent",{category:e,action:t,params:n})},l(e)}()),chat:new(function(){function e(){}var t=e.prototype;return t.openSingleChat=function(e){Wn.invoke("biz.chat.openSingleChat",{chatterId:e.chatterId},{onSuccess:e.onSuccess})},t.toConversation=function(e){Wn.invoke("biz.chat.toConversation",{chatId:e.chatId},{onSuccess:e.onSuccess})},l(e)}()),contact:new(function(){function e(){}return e.prototype.choose=function(e){Wn.invoke("biz.contact.choose",JSON.parse(JSON.stringify(e)),{onSuccess:e.onSuccess})},l(e)}())},Gn=new(function(){function e(){}var t=e.prototype;return t.showPreloader=function(e){Wn.invoke("device.notification.showPreloader",e)},t.hidePreloader=function(){Wn.invoke("device.notification.hidePreloader",{})},t.confirm=function(e){Wn.invoke("device.notification.confirm",{message:e.message,title:e.title,buttonLabels:e.buttonLabels},{onSuccess:e.onSuccess})},t.alert=function(e){Wn.invoke("device.notification.alert",e)},t.toast=function(e){Wn.invoke("device.notification.toast",Object.assign({},e,{duration:2}))},t.prompt=function(e){Wn.invoke("device.notification.prompt",{message:e.message,title:e.title,buttonLabels:e.buttonLabels},{onSuccess:e.onSuccess})},t.vibrate=function(e){Wn.invoke("device.notification.vibrate",{duration:e.duration},{onSuccess:e.onSuccess})},t.actionSheet=function(e){Wn.invoke("device.notification.actionSheet",{title:e.title,cancelButton:e.cancelButton,otherButtons:e.otherButtons},{onSuccess:e.onSuccess})},l(e)}());!function(e){e.wifi="wifi",e.lbs="lbs",e.gps="gps"}(Jn||(Jn={}));var Qn,Zn=new(function(){function e(){}var t=e.prototype;return t.get=function(e){Wn.invoke("device.geolocation.get",{useCache:e.useCache},{onSuccess:e.onSuccess,onFail:e.onFail})},t.start=function(e){var t=e.useCache,n=e.interval,r=e.sceneId,o=e.onSuccess,i=e.onFail;Wn.invoke("device.geolocation.start",{useCache:t,interval:n,sceneId:r},{onSuccess:o,onFail:i,keep:!0})},t.stop=function(e){Wn.invoke("device.geolocation.stop",{sceneId:e.sceneId},{onSuccess:e.onSuccess,onFail:e.onFail})},l(e)}()),$n=new(function(){function e(){}var t=e.prototype;return t.getNetworkType=function(e){Wn.invoke("device.connection.getNetworkType",{},{onSuccess:e.onSuccess,onFail:e.onFail})},t.scanBluetoothDevice=function(e){Wn.invoke("device.connection.scanBluetoothDevice",{scanTimeout:e.scanTimeout},{onSuccess:e.onSuccess})},t.getBluetoothDeviceState=function(e){Wn.invoke("device.connection.getBluetoothDeviceState",{},{onSuccess:e.onSuccess})},t.connectBluetoothDevice=function(e){Wn.invoke("device.connection.connectBluetoothDevice",{id:e.id,uuid:e.uuid},{onSuccess:e.onSuccess})},l(e)}());!function(e){e.captureScreen="event.user.captureScreen",e.networkStatusChange="event.connection.networkStatusChange"}(Qn||(Qn={}));var Yn={notification:Gn,geolocation:Zn,connection:$n,base:new(function(){function e(){}var t=e.prototype;return t.getInterface=function(e){Wn.invoke("device.base.getInterface",{},{onSuccess:e.onSuccess})},t.getWifiStatus=function(e){Wn.invoke("device.base.getWifiStatus",{},{onSuccess:e.onSuccess})},t.getWifiList=function(e){Wn.invoke("device.base.getWifiList",{},{onSuccess:e.onSuccess})},t.getDeviceInfo=function(e){Wn.invoke("device.base.getDeviceInfo",{},{onSuccess:e.onSuccess})},t.onUserCaptureScreen=function(e){Wn.on(Qn.captureScreen,"device.base.onUserCaptureScreen",e)},t.offUserCaptureScreen=function(e){Wn.off(Qn.captureScreen,"device.base.offUserCaptureScreen",e)},l(e)}()),screen:new(function(){function e(){}var t=e.prototype;return t.lockViewOrientation=function(e){Wn.invoke("device.screen.lockViewOrientation",{toHorizontal:e.toHorizontal,clockwise:e.clockwise},{onSuccess:e.onSuccess,onFail:e.onFail})},t.unlockViewOrientation=function(e){Wn.invoke("device.screen.unlockViewOrientation",{},{onSuccess:e.onSuccess,onFail:e.onFail})},l(e)}())};var Xn,er=Object.freeze({__proto__:null,getRecentApplications:function(e){Wn.invoke("appCenter.getAppList",{},{onSuccess:e.onSuccess,keep:!0})},putRecentApplication:function(e){var t=e.appId,n=e.appType;Wn.invoke("appCenter.putAppRecent",{appId:t,appType:n},{onSuccess:e.onSuccess,keep:!0})}}),tr=document.createElement("iframe");tr.style.display="none",null==(Xn=document.body)||Xn.appendChild(tr);var nr,rr=function(e,t){return new Promise((function(n,r){var o=setTimeout((function(){r(new Error("h5jssdk_getSDKConfig_timeout"))}),3e3);Wn.invoke("getSDKConfig",{param:JSON.stringify({build:t})},{onSuccess:function(t){o&&clearTimeout(o);try{"android"===e&&t.apiInfoList?n(t.apiInfoList.map((function(e){return e.name}))):0===t.code?n(t.data.apiInfoList.map((function(e){return e.name}))):n(!0)}catch(e){r(e)}},onFail:function(e){o&&clearTimeout(o),r(e)}})}))},or=function(){var e=r(a.mark((function e(t,n,r){var o,i,s,c,u,l,d;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},e.prev=1,e.next=4,rr(t,r);case 4:(i=e.sent)&&(o={openList:i,byteList:[]}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:if(c=(s=o).openList,u=void 0===c?[]:c,l=s.byteList,d=void 0===l?[]:l,"cdn"!==r){e.next=13;break}return e.abrupt("return",u);case 13:return e.abrupt("return",u.concat(d));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ir=function(e){var t=e.api,n=e.browser,r=e.SDK,o=e.build;return nr=nr||new Promise((function(e,i){if(n.versions.mobileFeishu||n.versions.PCFeishu){var a=function(e){var t=e.versions,n=t.ios,r=t.android,o=t.mac,i=t.win;return n?c.IOS:r?c.ANDROID:o?c.MAC:i?c.WINDOWS:null}(n),s=n.versions.larkVersion;if(!a||!s)return i(new Error("please use h5-js-sdk in Feishu or Lark APP"));or(a,s,o).then((function(n){void 0===n&&(n=[]),n.length?function(e,t,n){e.map((function(e){return e.split(".")})).forEach((function(e){e.reduce((function(t,n,r){if(null===t)return t;var o=t.feishu,i=t.api;return void 0===i[n]?null:e.length===r+1?(o[n]=i[n],null):(void 0===o[n]&&(o[n]={}),{feishu:o[n],api:i[n]})}),{feishu:t,api:n})}))}(n,r,t):Object.keys(t).forEach((function(e){r[e]=t[e]})),e()})).catch((function(e){Object.keys(t).forEach((function(e){r[e]=t[e]})),i(e)}))}else i(new Error("please use h5-js-sdk in Feishu or Lark APP"))}))},ar={onSuccess:{type:"Function"},onFail:{type:"Function"}},sr=[{name:"device.base.getSystemInfo",args:ar},{name:"biz.util.getClipboardInfo",args:ar},{name:"biz.util.openDocument",args:Object.assign({url:{type:"String",required:!0},method:{type:"String"},fileType:{type:"String"},header:{type:"Object"},body:{type:"String"},onProgress:{type:"Function"}},ar)},{name:"biz.contact.open",args:Object.assign({mode:{type:"String",default:"look",required:!0}},ar)},{name:"biz.user.getUserInfo",args:ar},{name:"biz.user.openDetail",args:Object.assign({openId:{type:"String",required:!0},position:{type:"Object"}},ar)},{name:"biz.user.getUserInfoEx",args:ar},{name:"device.health.getStepCount",args:ar},{name:"device.connection.getConnectedWifi",args:ar},{name:"device.connection.getGatewayIP",args:ar},{name:"biz.util.previewImage",args:Object.assign({urls:{type:"Array"},current:{type:"String"},requests:{type:"Array"}},ar)},{name:"biz.util.openLink",args:Object.assign({url:{type:"String",required:!0},title:{type:"String"},newTab:{type:"Boolean"}},ar)}];function cr(e,t){return t.forEach((function(t){var n=t.name,r=t.service,o=t.eventName,i=void 0===o?"":o,a=n.split("."),s=e;a.forEach((function(e,o){if(o===a.length-1){if(s[e])return k("the API ["+n+"] has exist, please check and modify");var c=e.match(/^(on|off)[A-Z]/),u=c?Wn[c[1]]:Wn.invoke,l=[null!=r?r:n];c&&l.unshift(i),s[e]=function(e){if(!t.args||(r=e,o=t.args,i=n,a=!0,s="",d=y(r),f=o.type||y(o),"Undefined"===d?"Object"===f?r={}:o.required&&(s="銆�"+i+"銆戯細the argument expect a "+f+" but received a "+d,a=!1):d!==f&&(s="銆�"+i+"銆戯細the argument expect a "+f+" but received a "+d,a=!1),a&&"Object"===f&&Object.keys(o).forEach((function(e){var t=o[e];t.default&&void 0===r[e]&&(r[e]=t.default),t.alias&&(r[t.alias]=r[e]);var n=y(r[e]);"Undefined"===n?t.required&&(s="銆�"+i+"銆戯細the param ["+e+"] is required and must be "+t.type,a=!1):t.type!==n&&(s="銆�"+i+"銆戯細the param ["+e+"] expect "+t.type+" but received "+n,a=!1)})),a||(r&&"function"==typeof r.onFail?r.onFail({errorCode:1015,errorMessage:s}):k(s)),a)){var r,o,i,a,s,d,f;if(c)return u.call.apply(u,[Wn].concat(l,[e]));var h=function(e){var t={},n={};return Object.keys(e).forEach((function(r){"function"==typeof e[r]?n[r]=e[r]:t[r]=e[r]})),{normal:t,callbacks:n}}(e||{}),p=h.normal,v=h.callbacks;return u.call.apply(u,[Wn].concat(l,[p,v]))}}}else s=s[e]||(s[e]={})}))})),e}var ur={};var lr=n((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports})),dr=n((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),fr=n((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),hr=n((function(e){e.exports=function(e){return lr(e)||dr(e)||f(e)||fr()},e.exports.__esModule=!0,e.exports.default=e.exports})),pr=n((function(e){var t=o.default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),vr=n((function(e){var t=o.default;e.exports=function(e){var n=pr(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports})),gr=t(n((function(e){function t(){t=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var o=t.placement;if(t.kind===r&&("static"===o||"prototype"===o)){var i="static"===o?e:n;this.defineClassElement(i,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!o(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var a=this.decorateConstructor(n,t);return r.push.apply(r,a.finishers),a.finishers=r,a},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,o[i])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var u=c.extras;if(u){for(var l=0;l<u.length;l++)this.addElementPlacement(u[l],t);n.push.apply(n,u)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e),i=this.toClassDescriptor((0,t[r])(o)||o);if(void 0!==i.finisher&&n.push(i.finisher),void 0!==i.elements){e=i.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return hr(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=vr(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:n,placement:r,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),i.initializer=e.initializer),i},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:a(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=a(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function n(e){var t,n=vr(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function r(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function o(e){return e.decorators&&e.decorators.length}function i(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function a(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}e.exports=function(e,a,s,c){var u=t();if(c)for(var l=0;l<c.length;l++)u=c[l](u);var d=a((function(e){u.initializeInstanceElements(e,f.elements)}),s),f=u.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===c.key&&e.placement===c.placement},a=0;a<e.length;a++){var s,c=e[a];if("method"===c.kind&&(s=t.find(n)))if(i(c.descriptor)||i(s.descriptor)){if(o(c)||o(s))throw new ReferenceError("Duplicated methods ("+c.key+") can't be decorated.");s.descriptor=c.descriptor}else{if(o(c)){if(o(s))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+c.key+").");s.decorators=c.decorators}r(c,s)}else t.push(c)}return t}(d.d.map(n)),e);return u.initializeClassElements(d.F,f.elements),u.runClassFinishers(d.F,f.finishers)},e.exports.__esModule=!0,e.exports.default=e.exports}))),mr=["success","fail","cancel","complete"];function yr(e,t,n){Vn.invoke(e,t,n)}function kr(e,t){Vn.subscribe(e,e,t)}function br(e,t,n){void 0===t&&(t={});var r=t,o=r.success,i=r.fail,a=r.cancel,s=r.complete,c=p(r,mr),u=Object.assign({},c),l=function(e){null==s||s(e),null==n||null==n.afterAll||n.afterAll(e)};u.success=function(e){null==n||null==n.beforeAll||n.beforeAll(e),null==n||null==n.beforeSuccess||n.beforeSuccess(e),null==o||o(e),null==n||null==n.afterSuccess||n.afterSuccess(e),l(e)},u.fail=function(e){null==n||null==n.beforeAll||n.beforeAll(e),null==n||null==n.beforeFail||n.beforeFail(e),null==i||i(e),null==n||null==n.afterFail||n.afterFail(e),l(e)},u.cancel=function(e){null==n||null==n.beforeAll||n.beforeAll(e),null==i||i(e),null==n||null==n.beforeCancel||n.beforeCancel(e),null==a||a(e),null==n||null==n.afterCancel||n.afterCancel(e),null==s||s(e),l(e)},yr(e,u)}function wr(e,t){kr(e,t)}function Sr(){}function _r(e){return Object.prototype.toString.call(e).slice(8,-1)}var Cr=function e(t,n,r){void 0===r&&(r="param");var o=_r(t),i=_r(n);if(o!==i)return r+" should pass "+i+", not "+o;var a="";switch(i){case"Object":for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a+=e(t[s],n[s],r+"."+s));break;case"Array":if(t.length<n.length)return r+" should have more than "+n.length+" items, not "+t.length+" items";for(var c=0;c<n.length;++c)a+=e(t[c],n[c],r+"["+c+"]")}return a},Ar=function(e,t,n,r){var o=Cr(t,n);if(o){var i={};if(r){var a=Ht(t,n);a&&(i={errString:a,errno:jt})}return Ir(e,t,o,i),!1}return!0},Ir=function(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=""),void 0===r&&(r={});var o={errMsg:e+":fail "+n};Object.assign(o,r),en(t.fail||Sr,o.errMsg)(o),en(t.complete||Sr,o.errMsg)(o)},Mr=Object.freeze({__proto__:null,addHostListener:function(){},publish:function(){},subscribe:function(){},_mockInvokeHandler:function(e){},_unmockInvokeHandler:function(){},invoke:yr,on:kr,invokeMethod:br,onMethod:wr,noop:Sr,beforeInvoke:Ar,beforeInvokeFail:Ir}),xr=["addStandardError","customCheckParams","checkParams","checkExtendParams","beforeInvokeHook","paramsTransformer","defaults","frequencyStrategy","frequencyTime","frequencyReportTimeout","frequencyReporter"],Er=["firstUseErrString"],Tr=function(){},Pr=function(e){return e};function Fr(e,t){void 0===t&&(t={});var n,r=t,o=r.addStandardError,i=r.customCheckParams,a=r.checkParams,s=r.checkExtendParams,c=r.beforeInvokeHook,u=r.paramsTransformer,l=r.defaults,d=r.frequencyStrategy,f=r.frequencyTime,h=void 0===f?0:f,v=r.frequencyReportTimeout,g=r.frequencyReporter,m=p(r,xr),y=function(n){void 0===n&&(n={});var r,d=new Map;l&&(n=Object.assign({},"function"==typeof l?l():l,n));var f={};if(a){if(r=Ft(n,a),o){var h=Ht(n,a);h&&(f={errString:h,errno:jt})}}else if(s)if(o){var p=function(e,t){for(var n in t){var r=t[n];if(!e.hasOwnProperty(n)){if(r.required)return{errMsg:n+" should not be undefined",errString:St(n)};r.hasOwnProperty("defaultValue")&&(e[n]=r.defaultValue)}if(e.hasOwnProperty(n)){var o=gt(e[n]),i=r.type;if(o!==i)return{errMsg:n+" should pass "+i+", not "+o,errString:wt(n)}}}return{errMsg:"",errString:""}}(n,s),v=p.errMsg,g=p.errString;v&&(r=v,f={errString:g,errno:jt})}else r=Pt(n,s);if(!r&&i){var y=i(n);y&&(r=y.message,o&&y.key&&(f={errString:bt(y.key),errno:jt}))}if(r)Jt(e,n,r,f);else{var k=null==c?void 0:c(n,d);if(void 0!==k){var b=t,w=b.beforeAll,S=b.beforeSuccess,_=b.afterSuccess,C=b.afterAll,A=n.success;null==w||w(k,d),null==S||S(k,d),"function"==typeof A&&A(k),null==_||_(k,d),null==C||C(k,d)}else{var I;u&&(n=null!=(I=u(n,d))?I:n),br(e,n,m)}}};if("queue"===d){var k=[],b=!1,w=function e(){b=!0;var t,r=k.shift();(null==n||n(),r)?y(Object.assign({},r,{complete:function(t){null==r||null==r.complete||r.complete(t),setTimeout((function(){e()}),h)}})):0===k.length?(b=!1,null==(t=n)||t.cancel()):e()};return g&&v&&(n=J((function(){g({apiName:e,timeout:v,waitingLength:k.length})}),v)),function(e){void 0===e&&(e={}),null==n||n(),k.push(e),b||w()}}if("throttle"===d){var S,_,C=[],A=0,I=!1,M=function(){var t;for(null==(t=n)||t.cancel();C.length;){var r=C.shift();"fail"===_?Jt(e,r,"",S):Kt(e,r,S)}};return g&&v&&(n=J((function(){g({apiName:e,timeout:v,waitingLength:C.length})}),v)),function(e){void 0===e&&(e={});var t=Date.now();C.push(e),!A||t-A>h?(A=t,I=!1,null==n||n(),y(Object.assign({},e,{success:function(e){S=e,_="success",I=!0,M()},fail:function(e){S=e,_="fail",I=!0,M()}}))):I&&M()}}return y}function Lr(e,t,n,r){void 0===r&&(r={});var o,i=r,a=i.firstUseErrString,s=p(i,Er);return o="function"==typeof n?n:"string"==typeof n?function(e){return e[n]}:!0===n?Pr:Tr,function(){var n,r,i=!1;if(br(e,Object.assign({},t.apply(void 0,arguments),s,{success:function(e){n=e,i=!0},fail:function(e){r=e,i=!0}})),r){var c=a&&r.errString||r.errMsg;if(c){var u=new Error(c);throw r.errString,u.errString=r.errString,r.errno,u.errno=r.errno,u}throw new Error(e+":fail unknown")}if(!i)throw new Error(e+":fail empty result");return o(n)}}function Or(e,t,n){void 0===n&&(n={});var r=n,o=r.wrapper,i=r.whenListenerExisted,a=r.whenListenerEmptied,s=r.whenListenerAdd,c=r.whenListenerRemove,u=r.onPolicy,l=r.offPolicy,d=new WeakMap,f="emptied";function h(){"existed"===f?e.size(t)||(f="emptied",null==a||a()):e.size(t)&&(f="existed",null==i||i())}return{on:function(n){if("function"==typeof n){var r=d.get(n);if(r||(o?(r=o(n),d.set(n,r)):r=n),"latest"===u)e.off(t),null==c||c();else if("unique"===u&&e.size(t,r)>0)return;e.on(t,r),null==s||s(),h()}},off:function(n){if(void 0===n||"clearAll"===l)e.off(t),null==c||c();else if("function"==typeof n){var r,o=null!=(r=d.get(n))?r:n;o&&e.off(t,o),null==c||c()}h()}}}function jr(e){return void 0===e&&(e={}),function(t,n){var r=t.key;t.finisher=function(t){t.exportApi(r,e)}}}function Nr(e){return function(t,n){var r=t.key;t.finisher=function(t){t.injectDep(r,e)}}}var Dr=function(e){S(n,e),n.exportApi=function(e,t){this.hasOwnProperty("exports")||Object.defineProperty(this,"exports",{enumerable:!1,writable:!0,configurable:!0,value:this.exports?this.exports.slice():[]}),this.exports.push({name:e,options:t})},n.injectDep=function(e,t){this.hasOwnProperty("deps")||Object.defineProperty(this,"deps",{enumerable:!1,writable:!0,configurable:!0,value:this.deps?this.deps.slice():[]}),this.deps.push({name:e,type:t})};var t=n.prototype;function n(t){var n;return(n=e.call(this)||this).container=t,n.beforeInvoke=Ar,n.beforeInvokeFail=Ir,n.createInvokeMethodApi=Fr,n.createInvokeMethodSyncApi=Lr,n._eventEmitter=void 0,n}return t.createEventApi=function(e,t){return Or(this.emitter,e,t)},t.createNativeEventApi=function(e,t){var n=this,r="__internal_"+e+"__";return this.addSetupHandler((function(){n.onMethod(e,(function(e){var o,i=null!=(o=null==t||null==t.transformData?void 0:t.transformData(e))?o:e;null==t||null==t.whenEventEmit||t.whenEventEmit(i),n.emitter.emit(r,e),null==t||null==t.whenEventEmitted||t.whenEventEmitted(i)}))})),Or(this.emitter,r,t)},l(n,[{key:"invokeMethod",get:function(){return this.container.bridge.invokeMethod}},{key:"subscribe",get:function(){return this.container.bridge.subscribe}},{key:"onMethod",get:function(){return this.container.bridge.onMethod}},{key:"publish",get:function(){return this.container.bridge.publish}},{key:"emitter",get:function(){var e=this;return this._eventEmitter||(this._eventEmitter=new Z({wrapper:function(t){return pt(t,{context:null,errMsg:"at tt event api",data:e.container})}})),this._eventEmitter}}]),n}(we);function Br(e,t){var n=e+"() { [native code] }";Object.defineProperty(t,"toString",{configurable:!0,writable:!0,enumerable:!1,value:function(){return n}})}Dr.exports=void 0,Dr.deps=void 0;var Rr=function(e){function t(t,n){var r;return(r=e.call(this)||this).container=t,r.exports=void 0,r.instance=new Map,r.apis=void 0,r.apis=Array.from(new Set(n)),r}S(t,e),t.getExports=function(e,n){var r=new t(e,n);return Se(r),r.exports};var n=t.prototype;return n.setup=function(){this.createApis(),this.setupApis(),this.exports=this.composeApis()},n.teardown=function(){for(var e,t=h(this.apis);!(e=t()).done;){var n=e.value;this.instance.get(n)._runTeardown()}},n.createApis=function(){for(var e,t=h(this.apis);!(e=t()).done;){var n=e.value;this.instance.set(n,new n(this.container))}for(var r,o=h(this.apis);!(r=o()).done;){var i=r.value,a=this.instance.get(i),s=i.deps;if(null!=s&&s.length)for(var c,u=h(s);!(c=u()).done;){var l=c.value,d=l.name,f=(0,l.type)();if(!f)throw new Error("Cannot found dep class in "+d+" of "+i.name);var p=this.instance.get(f);if(!p)throw new Error("Cannot found dep in "+d+" with type "+f.name+" in "+i.name);a[d]=p}}},n.setupApis=function(){for(var e,t=h(this.apis);!(e=t()).done;){var n=e.value;Se(this.instance.get(n))}},n.composeApis=function(){for(var e,t={},n=h(this.apis);!(e=n()).done;){var r=e.value,o=this.instance.get(r),i=o.constructor.exports;if(i)for(var a,s=h(i);!(a=s()).done;){var c=a.value.name,u=o[c];if("function"==typeof u){var l=Xt(u.bind(o),"at tt."+c);Br(c,l),t[c]=l}else if(null!=u)if(u.on){var d=u,f=d.on,p=d.off,v=c[0].toUpperCase()+c.slice(1),g="on"+v;if(t[g]=f,Br(g,f),p){var m="off"+v;t[m]=p,Br(m,p)}}else t[c]=u}}return t},l(t)}(we),zr=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"authorize",value:function(){return this.createInvokeMethodApi("authorize",{checkParams:{scope:""}})}}]}}),Dr),Ur=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getSystemInfo",value:function(){var e=this;return this.createInvokeMethodApi("getSystemInfo",{beforeSuccess:function(t){var n,r=e.container.getJSSDKVersion();t.SDKVersion=r.SDKVersion,t.SDKUpdateVersion=r.SDKUpdateVersion,t.platform=null==(n=t.platform)?void 0:n.toLocaleLowerCase(),t.devicePixelRatio=t.pixelRatio}})}},{kind:"field",decorators:[jr()],key:"getSystemInfoSync",value:function(){var e=this;return function(){var t={};return e.invokeMethod("getSystemInfoSync",{},{beforeSuccess:function(n){var r;void 0===n&&(n={});var o=e.container.getJSSDKVersion();n.platform=null==(r=n.platform)?void 0:r.toLocaleLowerCase(),n.SDKVersion=o.SDKVersion,n.SDKUpdateVersion=o.SDKUpdateVersion,n.devicePixelRatio=n.pixelRatio,t=n}}),t}}}]}}),Dr),Wr=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"openSchema",value:function(){return this.createInvokeMethodApi("openSchema")}}]}}),Dr),Vr=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getPadDisplayScaleMode",value:function(){return this.createInvokeMethodApi("getPadDisplayScaleMode")}},{kind:"field",decorators:[jr()],key:"togglePadFullScreen",value:function(){return this.createInvokeMethodApi("togglePadFullScreen")}}]}}),Dr),qr=n((function(e){e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports})),Hr=t(n((function(e){function t(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=t=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var r=qr(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),Jr="mainNavItemClick",Kr="navBarClick",Gr="leftNavBarClick",Qr="rightNavBarClick",Zr=gr(null,(function(e,t){var n=function(t){function n(n){var r;r=t.call(this,n)||this,e(Q(r));var o=r.createEventApi(Jr);r.onMainNavRightItemClick=o.on,r.offMainNavRightItemClick=o.off;var i=r.createEventApi(Kr,{onPolicy:"latest"});r.onNavigationBarClick=i.on,r.offNavigationBarClick=i.off;var a=r.createEventApi(Gr,{onPolicy:"latest"});r.onLeftNavigationBarClick=a.on,r.offLeftNavigationBarClick=a.off;var s=r.createEventApi(Qr,{onPolicy:"latest"});return r.onRightNavigationBarClick=s.on,r.offRightNavigationBarClick=s.off,r}return S(n,t),l(n)}(t);return{F:n,d:[{kind:"field",key:"_titleConfig",value:function(){return{}}},{kind:"field",decorators:[jr()],key:"setNavigationBarTitle",value:function(){return this.createInvokeMethodApi("setNavigationBarTitle",{checkParams:{title:"String"}})}},{kind:"field",decorators:[jr()],key:"setNavigationBarColor",value:function(){return this.createInvokeMethodApi("setNavigationBarColor",{checkParams:{frontColor:"String",backgroundColor:"String"}})}},{kind:"field",decorators:[jr()],key:"setMainNavRightItems",value:function(){return this.createInvokeMethodApi("setMainNavRightItems")}},{kind:"field",decorators:[jr()],key:"onMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[jr()],key:"offMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[jr()],key:"showNavigationBarLoading",value:function(){return this.createInvokeMethodApi("showNavigationBarLoading")}},{kind:"field",decorators:[jr()],key:"hideNavigationBarLoading",value:function(){return this.createInvokeMethodApi("hideNavigationBarLoading")}},{kind:"field",decorators:[jr()],key:"hideHomeButton",value:function(){return this.createInvokeMethodApi("hideHomeButton")}},{kind:"field",decorators:[jr()],key:"setNavigationBar",value:function(){var e=this;return this.createInvokeMethodApi("setNavigationBar",{paramsTransformer:function(t){return e._titleConfig=un(t),t}})}},{kind:"field",decorators:[jr()],key:"onNavigationBarClick",value:void 0},{kind:"field",decorators:[jr()],key:"offNavigationBarClick",value:void 0},{kind:"field",decorators:[jr()],key:"onLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[jr()],key:"offLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[jr()],key:"onRightNavigationBarClick",value:void 0},{kind:"field",decorators:[jr()],key:"offRightNavigationBarClick",value:void 0},{kind:"method",key:"setup",value:function(){var e=this;Hr(rt(n.prototype),"setup",this).call(this),this.onMethod("onMainNavRightItemClick",(function(t){e.emitter.emit(Jr,t)})),this.onMethod("onNavigationBarClick",(function(t){e.emitter.emit(Kr,t)})),this.onMethod("onLeftNavigationBarClick",(function(t){e.emitter.emit(Gr,t)})),this.onMethod("onRightNavigationBarClick",(function(t){e.emitter.emit(Qr,t)})),this.onMethod("resolveNavigationBarConfig",(function(){e.invokeMethod("resolveNavigationBarConfig",{navigationBarConfig:e._titleConfig})}))}},{kind:"method",key:"composeSafariCache",value:function(){return{navigationBarConfig:this._titleConfig}}}]}}),Dr),$r=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getUserInfo",value:function(){return this.createInvokeMethodApi("getUserInfo")}},{kind:"field",decorators:[jr()],key:"getUserCustomAttr",value:function(){return this.createInvokeMethodApi("getUserCustomAttr")}}]}}),Dr),Yr=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"showModal",value:function(e){void 0===e&&(e={});e=Object.assign({},{title:"",content:"",confirmText:"",cancelText:"",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000"},e),this.beforeInvoke("showModal",e,{title:"String",content:"String",confirmText:"String",cancelText:"String",confirmColor:"String",cancelColor:"String"},!0)&&this.invokeMethod("showModal",e)}}]}}),Dr),Xr=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"enterBot",value:function(){return this.createInvokeMethodApi("enterBot")}}]}}),Dr),eo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"enterChat",value:function(){return this.createInvokeMethodApi("enterChat")}},{kind:"field",decorators:[jr()],key:"toggleChat",value:function(){return this.createInvokeMethodApi("toggleChat",{checkParams:{openChatId:""}})}}]}}),Xr),to=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"enterChat",value:function(e){void 0===e&&(e={});var t=e,n=t.openid,r=t.openChatId;n||r?(((null==void 0?void 0:undefined.agent)||{}).isEnterChatStandardizeEnabled||n&&r&&delete e.openChatId,void 0===e.needBadge&&(e.needBadge=!0),this.invokeMethod("enterChat",e)):this.beforeInvokeFail("enterChat",e,"no valid id",{errno:Dt,errString:Ct()})}}]}}),Xr),no=function(e){function t(){return e.apply(this,arguments)||this}return S(t,e),l(t)}(Dr),ro=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"enterProfile",value:function(){return this.createInvokeMethodApi("enterProfile",{checkParams:{openid:""}})}}]}}),no),oo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"enterProfile",value:function(e){void 0===e&&(e={}),void 0===e.left&&(e.left=0),void 0===e.top&&(e.top=0);this.beforeInvoke("enterProfile",e,{openid:"String",left:0,top:0})&&this.invokeMethod("enterProfile",e)}}]}}),no),io=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"startPasswordVerify",value:function(){return this.createInvokeMethodApi("startPasswordVerify")}}]}}),Dr),ao=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"chooseContact",value:function(e){void 0===e&&(e={}),void 0===e.externalContact&&(e.externalContact=!0),void 0===e.multi&&(e.multi=!0),void 0===e.ignore&&(e.ignore=!1),e.multi=Boolean(e.multi),!1===e.multi&&(e.choosenIds=null);var t=!1;null!==e.choosenIds&&null!==e.disableChosenIds&&e.choosenIds instanceof Array&&e.disableChosenIds instanceof Array&&e.choosenIds.forEach((function(n){-1!==e.disableChosenIds.indexOf(n)&&(t=!0)})),!1===t?this.invokeMethod("chooseContact",e):Ir("chooseContact",e,"choosenIds and disableIds intersect",{errno:Rt,errString:_t()})}},{kind:"method",decorators:[jr()],key:"chooseChat",value:function(e){void 0===e&&(e={}),void 0===e.externalChat&&(e.externalChat=!0),void 0===e.allowCreateGroup&&(e.allowCreateGroup=!0),void 0===e.ignoreSelf&&(e.ignoreSelf=!1),void 0===e.ignoreBot&&(e.ignoreBot=!1),void 0===e.multiSelect&&(e.multiSelect=!1),void 0===e.selectType&&(e.selectType=0);var t=function(e){var t,n,r=e.chosenOpenIds,o=e.chosenOpenChatIds,i=so(r),a=so(o);return(i&&null!=(t=null==r?void 0:r.length)?t:0)+(a&&null!=(n=null==o?void 0:o.length)?n:0)}(e);t>0&&(e.multiSelect=!0),t>10?Ir("chooseChat",e,"Total count of chosenOpenIds and chosenOpenChatIds exceeds limit, max 10 allowed.",{errno:Bt,errString:xt()}):this.invokeMethod("chooseChat",e)}}]}}),Dr);function so(e){return Array.isArray(e)&&e.length>0}var co,uo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"filePicker",value:function(){return this.createInvokeMethodApi("filePicker")}},{kind:"field",decorators:[jr()],key:"openDocument",value:function(){return this.createInvokeMethodApi("openDocument",{addStandardError:!0,checkParams:{filePath:"String"}})}},{kind:"method",decorators:[jr()],key:"docsPicker",value:function(e){var t=e.maxNum;void 0===t||t>0?this.invokeMethod("docsPicker",e):Jt("docsPicker",e,"no valid maxNum",{errString:bt("maxNum"),errno:jt})}}]}}),Dr),lo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"saveFileAs",value:function(){return this.createInvokeMethodApi("saveFileAs",{checkParams:{filePath:"String"}})}}]}}),Dr),fo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getHostLaunchQuery",value:function(){return this.createInvokeMethodApi("getHostLaunchQuery")}},{kind:"field",decorators:[jr({sync:!0})],key:"getHostLaunchQuerySync",value:function(){return null}}]}}),Dr),ho=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getSecurityInfo",value:function(){return this.createInvokeMethodApi("getSecurityInfo")}},{kind:"field",decorators:[jr()],key:"getSecurityEnv",value:function(){return this.createInvokeMethodApi("getSecurityEnv")}}]}}),Dr),po=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"_leaveConfirmConfig",value:function(){return{}}},{kind:"method",decorators:[jr()],key:"enableLeaveConfirm",value:function(e){var t=this;void 0===e&&(e={});e=Object.assign({},{effect:["back","close"],title:"",content:"",confirmText:"",cancelText:"",confirmColor:"#3CC51F",cancelColor:"#000000"},e);var n=function(n,r){return e[n].replace(/[^\u0000-\u00ff]/g,"aa").length>r&&(t.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: "+n+" length can not exceed "+r+" characters"),!0)};this.beforeInvoke("enableLeaveConfirm",e,{effect:[],title:"String",content:"String",confirmText:"String",cancelText:"String",confirmColor:"String",cancelColor:"String"})&&(0===e.effect.length?this.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: effect length can not be empty"):e.title||e.content?n("title",16)||n("content",80)||n("confirmText",8)||n("cancelText",8)||this.invokeMethod("enableLeaveConfirm",e,{beforeSuccess:function(){t._leaveConfirmConfig=un(e)}}):this.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: title and content can not be empty at the same time"))}},{kind:"field",decorators:[jr()],key:"disableLeaveConfirm",value:function(){var e=this;return this.createInvokeMethodApi("disableLeaveConfirm",{beforeSuccess:function(){e._leaveConfirmConfig={}}})}},{kind:"field",decorators:[jr()],key:"LeaveConfirmCancel",value:function(){return this.createNativeEventApi("onLeaveConfirmCancel")}},{kind:"field",key:"composeSafariCache",value:function(){var e=this;return function(){return{leaveConfirmConfig:e._leaveConfirmConfig}}}}]}}),Dr),vo=function(){function e(){}var t=e.prototype;return t._reportUndefinedDefaultCode=function(){var e={domain:"js.open_platform.gadget",code:1e4,level:te.warn,message:"undefined_default_code"};return new Ee({name:"undefined_default_code",code:e})},t._buildParams=function(e,t){var n;return void 0===t&&(t={}),(n={}).biz_event_name=e,n.biz_data=t,n.common_data={},n},t.report=function(e,t,n,r){void 0===n&&(n={}),e||this._reportUndefinedDefaultCode();var o=new Ee({name:"op_biz_event",code:new xe(t)});null!=r&&r.traceId&&o.tracing(r.traceId);var i=this._buildParams(e,n);return o.addMap(i).flush()},l(e)}(),go=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"ins",value:void 0},{kind:"field",decorators:[jr()],key:"opmonitor",value:function(){var e=this;return function(){return e.ins||(e.ins=new vo),e.ins}}}]}}),Dr),mo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"closeWindow",value:function(){return this.createInvokeMethodApi("closeWindow")}}]}}),Dr),yo=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"metaConfig",value:void 0},{kind:"field",decorators:[jr()],key:"updateMeta",value:function(){var e=this;return function(){var t=document.querySelectorAll("meta[lk-config]"),n=new Map;t.forEach((function(e){var t,r,o=e.getAttribute("name"),i=null!=(t=e.getAttribute("content"))?t:"",a=null!=(r=e.getAttribute("lk-config"))?r:"";if(o){var s={name:o,content:i,"lk-config":a};n.set(o,s)}}));var r=Array.from(n.values());e.metaConfig=r,e._updateMeta({metas:r})}}},{kind:"field",key:"_updateMeta",value:function(){return this.createInvokeMethodApi("updateMeta")}},{kind:"field",key:"composeSafariCache",value:function(){var e=this;return function(){return{meta:e.metaConfig}}}}]}}),Dr),ko=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"setAPIConfig",value:function(){return this.createInvokeMethodApi("setAPIConfig")}}]}}),Dr),bo=gr(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t);return{F:n,d:[{kind:"field",key:"eventMap",value:function(){return{}}},{kind:"field",decorators:[jr()],key:"invokeCustomAPI",value:function(){return this.createInvokeMethodApi("invokeCustomAPI")}},{kind:"method",decorators:[jr({})],key:"addCustomEventListener",value:function(e,t){this.eventMap[e]||(this.eventMap[e]=this.createEventApi(e)),this.eventMap[e].on(t)}},{kind:"method",decorators:[jr({})],key:"removeCustomEventListener",value:function(e,t){var n;null==(n=this.eventMap[e])||null==n.off||n.off(t)}},{kind:"method",key:"setup",value:function(){var e=this;Hr(rt(n.prototype),"setup",this).call(this),this.onMethod("fireCustomEvent",(function(t){var n=t.eventName,r=t.data;e.emitter.emit(n,r)}))}}]}}),Dr),wo=n((function(e,t){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,i="function"==typeof Symbol,a="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,c=i?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function u(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function d(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var f=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var o=new Array(r);r--;)o[r]=arguments[r];return o}};function h(e,n){for(var r={},o=e.length,i=n?value.length:0,a=0;a<o;a++)r[e[a]]=a<i?n[a]:t;return r}function p(e,t,n){var r,o;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,o=n.off),t.addEventListener?(r=t.addEventListener,o=t.removeEventListener):t.addListener?(r=t.addListener,o=t.removeListener):t.on&&(r=t.on,o=t.off),!r&&!o)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=r,this._off=o;var i=e._observers;i?i.push(this):e._observers=[this]}function v(e,r,o,i){var a=Object.assign({},r);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var s,c,u,l=Object.keys(e),d=l.length;function f(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<d;h++){if(s=l[h],!i&&!n.call(r,s))throw Error('Unknown "'+s+'" option');(c=e[s])!==t&&(u=o[s],a[s]=u?u(c,f):c)}return a}function g(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function m(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],o=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var i=typeof e;if(i===r||i===o)return e;n(t)}:function(r,o){for(var i=typeof r,a=n;a-- >0;)if(i===e[a])return r;o(t)}}Object.assign(p.prototype,{subscribe:function(e,t,n){var r=this,o=this._target,i=this._emitter,a=this._listeners,s=function(){var r=f.apply(null,arguments),a={data:r,name:t,original:e};if(n){var s=n.call(o,a);!1!==s&&i.emit.apply(i,[a.name].concat(r))}else i.emit.apply(i,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=s,r._on.call(o,e,s))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!i.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(o,e,s))},a[e]=null,i.on("removeListener",this._onRemoveListener)):(a[e]=s,r._on.call(o,e,s))},unsubscribe:function(e){var t,n,r,o=this,i=this._listeners,a=this._emitter,s=this._off,u=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){o._onNewListener&&(a.off("newListener",o._onNewListener),a.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var e=w.call(a,o);a._observers.splice(e,1)}if(e){if(!(t=i[e]))return;s.call(u,e,t),delete i[e],--this._listenersCount||l()}else{for(r=(n=c(i)).length;r-- >0;)e=n[r],s.call(u,e,i[e]);this._listeners={},this._listenersCount=0,l()}}});var y=m(["function"]),k=m(["object","function"]);function b(e,t,n){var r,o,i,a=0,s=new e((function(c,u,l){function d(){o&&(o=null),a&&(clearTimeout(a),a=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof l;var f=function(e){d(),c(e)},h=function(e){d(),u(e)};r?t(f,h,l):(o=[function(e){h(e||Error("canceled"))}],t(f,h,(function(e){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");o.push(e)})),i=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),u(e)}),n.timeout))}));return r||(s.cancel=function(e){if(o){for(var t=o.length,n=1;n<t;n++)o[n](e);o[0](e),o=null}}),s}function w(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function S(e,t,n,r,o){if(!n)return null;if(0===r){var i=typeof t;if("string"===i){var a,s,u=0,l=0,d=this.delimiter,f=d.length;if(-1!==(s=t.indexOf(d))){a=new Array(5);do{a[u++]=t.slice(l,s),l=s+f}while(-1!==(s=t.indexOf(d,l)));a[u++]=t.slice(l),t=a,o=u}else t=[t],o=1}else"object"===i?o=t.length:(t=[t],o=1)}var h,p,v,g,m,y,k,b=null,w=t[r],_=t[r+1];if(r===o&&n._listeners)return"function"==typeof n._listeners?(e&&e.push(n._listeners),[n]):(e&&e.push.apply(e,n._listeners),[n]);if("*"===w){for(s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&(k=S(e,t,n[h],r+1,o))&&(b?b.push.apply(b,k):b=k);return b}if("**"===w){for((m=r+1===o||r+2===o&&"*"===_)&&n._listeners&&(b=S(e,t,n,o,o)),s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&("*"===h||"**"===h?(n[h]._listeners&&!m&&(k=S(e,t,n[h],o,o))&&(b?b.push.apply(b,k):b=k),k=S(e,t,n[h],r,o)):k=S(e,t,n[h],h===_?r+2:r,o),k&&(b?b.push.apply(b,k):b=k));return b}if(n[w]&&(b=S(e,t,n[w],r+1,o)),(p=n["*"])&&S(e,t,p,r+1,o),v=n["**"])if(r<o)for(v._listeners&&S(e,t,v,o,o),s=(y=c(v)).length;s-- >0;)"_listeners"!==(h=y[s])&&(h===_?S(e,t,v[h],r+2,o):h===w?S(e,t,v[h],r+1,o):((g={})[h]=v[h],S(e,t,{"**":g},r+1,o)));else v._listeners?S(e,t,v,o,o):v["*"]&&v["*"]._listeners&&S(e,t,v["*"],o,o);return b}function _(e,t,n){var r,o,i=0,a=0,s=this.delimiter,c=s.length;if("string"==typeof e)if(-1!==(r=e.indexOf(s))){o=new Array(5);do{o[i++]=e.slice(a,r),a=r+c}while(-1!==(r=e.indexOf(s,a)));o[i++]=e.slice(a)}else o=[e],i=1;else o=e,i=e.length;if(i>1)for(r=0;r+1<i;r++)if("**"===o[r]&&"**"===o[r+1])return;var u,l=this.listenerTree;for(r=0;r<i;r++)if(l=l[u=o[r]]||(l[u]={}),r===i-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),n?l._listeners.unshift(t):l._listeners.push(t),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,d.call(this,l._listeners.length,u))):l._listeners=t,!0;return!0}function C(e,t,n,r){for(var o,i,a,s,u=c(e),l=u.length,d=e._listeners;l-- >0;)o=e[i=u[l]],a="_listeners"===i?n:n?n.concat(i):[i],s=r||"symbol"==typeof i,d&&t.push(s?a:a.join(this.delimiter)),"object"==typeof o&&C.call(this,o,t,a,s);return t}function A(e){for(var t,n,r,o=c(e),i=o.length;i-- >0;)(t=e[n=o[i]])&&(r=!0,"_listeners"===n||A(t)||delete e[n]);return r}function I(e,t,n){this.emitter=e,this.event=t,this.listener=n}function M(e,n,r){if(!0===r)a=!0;else if(!1===r)i=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var i=r.async,a=r.promisify,c=r.nextTick,u=r.objectify}if(i||c||a){var l=n,d=n._origin||n;if(c&&!o)throw Error("process.nextTick is not supported");a===t&&(a="AsyncFunction"===n.constructor.name),(n=function(){var e=arguments,t=this,n=this.event;return a?c?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,l.apply(t,e)})):(c?process.nextTick:s)((function(){t.event=n,l.apply(t,e)}))})._async=!0,n._origin=d}return[n,u?new I(this,e,n):this]}function x(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}I.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},x.EventEmitter2=x,x.prototype.listenTo=function(e,n,o){if("object"!=typeof e)throw TypeError("target musts be an object");var i=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=o.reducers,a=w.call(i,e);n=-1===a?new p(i,e,o):i._observers[a];for(var s,u=c(t),l=u.length,d="function"==typeof r,f=0;f<l;f++)s=u[f],n.subscribe(s,t[s]||s,d?r:r&&r[s])}return o=v(o,{on:t,off:t,reducers:t},{on:y,off:y,reducers:k}),r(n)?a(h(n)):a("string"==typeof n?h(n.split(/\s+/)):n),this},x.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,o=n.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;o-- >0;)r=n[o],e&&r._target!==e||(r.unsubscribe(t),i=!0);return i},x.prototype.delimiter=".",x.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},x.prototype.getMaxListeners=function(){return this._maxListeners},x.prototype.event="",x.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},x.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},x.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},x.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},x.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},x.prototype._many=function(e,t,n,r,o){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,o)},x.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,i)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var l,d=arguments.length;if(this._all&&this._all.length)for(r=0,n=(l=this._all.slice()).length;r<n;r++)switch(this.event=s,d){case 1:l[r].call(this,s);break;case 2:l[r].call(this,s,arguments[1]);break;case 3:l[r].call(this,s,arguments[1],arguments[2]);break;default:l[r].apply(this,arguments)}if(c)l=[],S.call(this,l,e,this.listenerTree,0,n);else{if("function"==typeof(l=this._events[s])){switch(this.event=s,d){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(d-1),o=1;o<d;o++)t[o-1]=arguments[o];l.apply(this,t)}return!0}l&&(l=l.slice())}if(l&&l.length){if(d>3)for(t=new Array(d-1),o=1;o<d;o++)t[o-1]=arguments[o];for(r=0,n=l.length;r<n;r++)switch(this.event=s,d){case 1:l[r].call(this);break;case 2:l[r].call(this,arguments[1]);break;case 3:l[r].call(this,arguments[1],arguments[2]);break;default:l[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},x.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,i)for(o=0;o<r;o++)if("symbol"==typeof s[o]){t=!0;break}t||(s=s.join(this.delimiter))}var l,d=[],f=arguments.length;if(this._all)for(o=0,r=this._all.length;o<r;o++)switch(this.event=s,f){case 1:d.push(this._all[o].call(this,s));break;case 2:d.push(this._all[o].call(this,s,arguments[1]));break;case 3:d.push(this._all[o].call(this,s,arguments[1],arguments[2]));break;default:d.push(this._all[o].apply(this,arguments))}if(c?(l=[],S.call(this,l,e,this.listenerTree,0)):l=this._events[s],"function"==typeof l)switch(this.event=s,f){case 1:d.push(l.call(this));break;case 2:d.push(l.call(this,arguments[1]));break;case 3:d.push(l.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(f-1),a=1;a<f;a++)n[a-1]=arguments[a];d.push(l.apply(this,n))}else if(l&&l.length){if(l=l.slice(),f>3)for(n=new Array(f-1),a=1;a<f;a++)n[a-1]=arguments[a];for(o=0,r=l.length;o<r;o++)switch(this.event=s,f){case 1:d.push(l[o].call(this));break;case 2:d.push(l[o].call(this,arguments[1]));break;case 3:d.push(l[o].call(this,arguments[1],arguments[2]));break;default:d.push(l[o].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(d)},x.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},x.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},x.prototype.onAny=function(e){return this._onAny(e,!1)},x.prototype.prependAny=function(e){return this._onAny(e,!0)},x.prototype.addListener=x.prototype.on,x.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},x.prototype._on=function(e,n,r,o){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||u.call(this);var i,a=this;return o!==t&&(n=(i=M.call(this,e,n,o))[0],a=i[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(_.call(this,e,n,r),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,d.call(this,this._events[e].length,e))):this._events[e]=n,a)},x.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,o=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(o=S.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],o.push({_listeners:n})}for(var a=0;a<o.length;a++){var s=o[a];if(n=s._listeners,r(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&A(this.listenerTree),this},x.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},x.prototype.removeListener=x.prototype.off,x.prototype.removeAllListeners=function(e){if(e===t)return!this._events||u.call(this),this;if(this.wildcard){var n,r=S.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&A(this.listenerTree)}else this._events&&(this._events[e]=null);return this},x.prototype.listeners=function(e){var n,r,o,i,a,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(i=(n=c(s)).length,o=[];i-- >0;)"function"==typeof(r=s[n[i]])?o.push(r):o.push.apply(o,r);return o}if(this.wildcard){if(!(a=this.listenerTree))return[];var u=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,u,l,a,0),u}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},x.prototype.eventNames=function(e){var t=this._events;return this.wildcard?C.call(this,this.listenerTree,[],null,e):t?c(t):[]},x.prototype.listenerCount=function(e){return this.listeners(e).length},x.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,n,r,this.listenerTree,0),n.length>0}var o=this._events,i=this._all;return!!(i&&i.length||o&&(e===t?c(o).length:o[e]))},x.prototype.listenersAny=function(){return this._all?this._all:[]},x.prototype.waitFor=function(e,n){var r=this,o=typeof n;return"number"===o?n={timeout:n}:"function"===o&&(n={filter:n}),b((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:y,Promise:g})).Promise,(function(t,o,i){function a(){var i=n.filter;if(!i||i.apply(r,arguments))if(r.off(e,a),n.handleError){var s=arguments[0];s?o(s):t(f.apply(null,arguments).slice(1))}else t(f.apply(null,arguments))}i((function(){r.off(e,a)})),r._on(e,a,!1)}),{timeout:n.timeout,overload:n.overload})};var E=x.prototype;Object.defineProperties(x,{defaultMaxListeners:{get:function(){return E._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");E._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return b((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:g})).Promise,(function(n,r,o){var i;if("function"==typeof e.addEventListener)return i=function(){n(f.apply(null,arguments))},o((function(){e.removeEventListener(t,i)})),void e.addEventListener(t,i,{once:!0});var a,s=function(){a&&e.removeListener("error",a),n(f.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,s),r(n)},e.once("error",a)),o((function(){a&&e.removeListener("error",a),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(E,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=x}()}));!function(e){e[e.Cancelled=1000001]="Cancelled",e[e.InvalidParam=104]="InvalidParam",e[e.InternalError=102]="InternalError"}(co||(co={}));
    /*!
         * content-disposition
         * Copyright(c) 2014-2017 Douglas Christopher Wilson
         * MIT Licensed
         */
    var So=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/,_o=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g;var Co=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,Ao=/%([0-9A-Fa-f]{2})/g;function Io(e){var t=Co.exec(e);if(!t)throw new TypeError("invalid extended field value");var n,r=t[1].toLowerCase(),o=t[2].replace(Ao,Mo);switch(r){case"iso-8859-1":n=String(o).replace(xo,"?");break;case"utf-8":n=new TextDecoder("utf-8").decode((new TextEncoder).encode(o));break;default:throw new TypeError("unsupported charset in extended field")}return n}function Mo(e,t){return String.fromCharCode(parseInt(t,16))}var xo=/[^\x20-\x7e\xa0-\xff]/g;function Eo(){return""+(new Date).getTime()+function(e){void 0===e&&(e=6);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=t.length,o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n}()}function To(e){var t,n,r=null==(t=new URL(e).pathname)?void 0:t.split("/");return r&&r.length>0&&null!=(n=r.pop())?n:null}function Po(e,t){var n,r=t.get("content-disposition");if(r)try{var o=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=So.exec(e);if(!t)throw new TypeError("invalid type format");var n,r,o=t[0].length,i=t[1].toLowerCase(),a=[],s={};for(o=_o.lastIndex=";"===t[0].substr(-1)?o-1:o;t=_o.exec(e);){if(t.index!==o)throw new TypeError("invalid parameter format");if(o+=t[0].length,n=t[1].toLowerCase(),r=t[2],-1!==a.indexOf(n))throw new TypeError("invalid duplicate parameter");a.push(n),n.indexOf("*")+1!==n.length?"string"!=typeof s[n]&&('"'===r[0]&&(r=r.substr(1,r.length-2).replace(/\\([\u0000-\u007f])/g,"$1")),s[n]=r):(n=n.slice(0,-1),r=Io(r),s[n]=r)}if(-1!==o&&o!==e.length)throw new TypeError("invalid parameter format");return{type:i,params:s}}(r).params.fileName;if(o)return o}catch(e){D.error("parseContentDisposition error:",e)}var i=t.get("content-type");if(i){var a=function(e){return e.includes("image/jpeg")?"jpg":e.includes("text/html")?"html":e.includes("text/plain")?"txt":e.includes("text/xml")||e.includes("application/xml")?"xml":e.includes("image/jpx")?"jpx":e.includes("video/mpeg")?"mpeg":null}(i);if(a)return Eo()+"."+a}return null!=(n=To(e))?n:Eo()}function Fo(e){switch(e.toLowerCase()){case"txt":return"text/plain";case"html":return"text/html";case"css":return"text/css";case"js":return"application/javascript";case"json":return"application/json";case"xml":return"application/xml";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"pdf":return"application/pdf";default:return"application/octet-stream"}}var Lo=function(){function e(t,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.requestVersion="v2",this.requestId=void 0,this.taskId=sn(),this.bizInvokeTime=(new Date).valueOf(),this.illegal=!1,this.abortController=void 0,this.useFetchImpl=void 0,this.abort=function(){o.illegal||(o.useFetchImpl?o.abortController?o.abortController.abort():D.error("abortController is undefined"):br("downloadFileAbort",{payload:JSON.stringify({downloadTaskId:o.taskId})}))},this.onProgressUpdate=function(t){o.illegal||"function"!=typeof t||e.eventNexus.on(o.taskId,(function(e){en(t,"at downloadTask.onProgressUpdate callback function")(e)}))},this.requestId=this.taskId,this.useFetchImpl=r&&void 0!==fetch,n)this.illegal=!0;else{var i=Object.assign({},t,{taskId:this.taskId});this.useFetchImpl?this.fetchInH5Context(i):br("downloadFile",{payload:JSON.stringify(Object.assign({},t,{downloadTaskId:this.taskId})),fail:e.callBackWrapper(i,this.bizInvokeTime,"fail"),success:e.callBackWrapper(i,this.bizInvokeTime,"success")})}}return e.reportResult=function(e){var t=e.errCode===co.Cancelled||e.errMsg.toLocaleLowerCase().startsWith("downloadFile:fail canceled"),n=t?Ze:Qe,r=t?"cancel":e.resultType,o=Date.now()-e.bizInvokeTime,i={request_version:"v2",request_trace:e.taskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:H(e.url),request_biz_invoke_time:e.bizInvokeTime,error_code:e.errCode?e.errCode:0,error_msg:e.errMsg||"",errno:e.errno,err_string:e.errString,duration:o,result_type:r,api_name:"downloadFile"};tt(Be,n).setPlatform("TeaSlardar").addMap(i).flush()},e.prototype.fetchInH5Context=function(){var t=r(a.mark((function t(n){var r,o,i,s,c,u=this;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.abortController=new AbortController,t.prev=1,t.next=4,fetch(n.url,{method:n.method,headers:n.header,signal:this.abortController.signal});case 4:return o=t.sent,t.next=7,(a=o.headers.get("content-type"))&&(a.includes("text/plain")||a.includes("text/html")||a.includes("text/css")||a.includes("text/javascript")||a.includes("application/json")||a.includes("application/xml")||a.includes("text/xml")||a.includes("application/xhtml+xml")||a.includes("text/csv")||a.includes("text/markdown"))?o.text():o.arrayBuffer();case 7:i=t.sent,s=o.headers.get("content-length"),br("writeFile",{filePath:c=null!=(r=n.filePath)?r:"ttfile://temp/"+Po(n.url,o.headers),data:i,internalSupportTemp:!0,success:function(t){e.eventNexus.emit(u.taskId,{progress:100,totalBytesWritten:s,totalBytesExpectedToWrite:s}),t.payload=JSON.stringify({tempFilePath:c,statusCode:o.status}),e.callBackWrapper(n,u.bizInvokeTime,"success")(t)},fail:e.callBackWrapper(n,this.bizInvokeTime,"fail")}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),Ir("downloadFile",n,Et(),{errno:Nt,errString:JSON.stringify(t.t0)});case 16:case"end":return t.stop()}var a}),t,this,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e.callBackWrapper=function(t,n,r){return function(o){var i=t.taskId,a=t.success,s=t.fail,c=t.complete,u=o.payload,l=o.errCode,d=o.errno,f=o.errString,h=null,p=o.errMsg;if("string"==typeof u)try{h=JSON.parse(u)}catch(e){p="downloadFile:fail sdk parse payload error",D.error("[js-sdk-downloadFile] biz callback payload json parse error")}var v=h?Object.assign({},h,{trace:i,errMsg:p}):{errMsg:p,trace:i};if(void 0!==d&&(v.errno=d),void 0!==f&&(v.errString=f),"success"===r&&h&&"function"==typeof a)a(v);else if("function"==typeof s){s(void 0===l?v:Object.assign({},v,{errCode:l}))}"function"==typeof c&&c(v),e.eventNexus.off(t.taskId),e.reportResult({resultType:r,errMsg:p,bizInvokeTime:n,errCode:l,errno:d,errString:f,taskId:t.taskId,url:t.url})}},l(e)}();Lo.eventNexus=new Z,Lo.progressCacheMap=new Map,wr("onDownloadFileProgress",(function(e){var t;void 0===e&&(e={});var n=e,r=n.progress,o=n.downloadTaskId,i=n.totalBytesExpectedToWrite,a=n.totalBytesWritten;o&&!isNaN(r)&&(Number(r)<(null!=(t=Lo.progressCacheMap.get(o))?t:0)||(Lo.progressCacheMap.set(o,Number(r)),Lo.eventNexus.emit(o,{progress:r,totalBytesWritten:a,totalBytesExpectedToWrite:i})))}));var Oo="waiting",jo="sending",No="done",Do="aborted",Bo="created",Ro="in_queue",zo=0,Uo=0;function Wo(){var e=Go.get(this);Ko.set(this,jo),ei.set(this,Date.now());var t,n=this,r=(new Date).valueOf()%1e6;Uo===r?zo++:(Uo=r,zo=0);var o=+(""+r+(zo<10?"0"+zo:zo));zo>=99&&(zo=0),Jo.set(n,o||r),br("createDownloadTask",{url:e.url,header:e.header,data:e.data,method:e.method,filePath:e.filePath,taskId:o,success:function(e){Zo.set(n,e.trace),Jo.set(n,e.downloadTaskId),ni+=1,oi[e.downloadTaskId]=n},fail:function(e){Zo.set(n,e.trace),t=e.errMsg,ai(n,"fail",t)},complete:function(){Ko.set(n,No)}}),t?setTimeout((function(){var n={errMsg:t.replace("createDownloadTask","downloadFile")};"function"==typeof e.fail&&e.fail(n),"function"==typeof e.complete&&e.complete(n)}),0):(D.log("taskID",this,Jo.get(this)),ii.on(Jo.get(this)+"success",(function(t){t.errMsg="downloadFile:ok",t.statusCode=parseInt(t.statusCode,10),-1===[200,304].indexOf(t.statusCode)&&delete t.tempPath,delete t.timeInterval,"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)})),ii.on(Jo.get(this)+"fail",(function(t){t.errMsg="downloadFile:fail "+t.errMsg,"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)})))}var Vo=0,qo=new WeakMap,Ho=new WeakMap,Jo=new WeakMap,Ko=new WeakMap,Go=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=0,ri=[],oi={},ii=new wo.EventEmitter2;function ai(e,t,n){var r=ti.get(e),o=Ko.get(e)===Do,i=o?Ze:Qe,a=o?"cancel":t,s=Go.get(e),c=Qo.get(e),u=Date.now()-c,l={request_version:"v1",request_trace:Zo.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"GET",request_biz_invoke_time:Qo.get(e),request_push_queue_time:$o.get(e)||0,request_shift_queue_time:Xo.get(e)||0,request_queue_length:Yo.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a,api_name:"downloadFile"};tt(Be,i).setPlatform("TeaSlardar").addMap(l).flush()}wr("onDownloadTaskStateChange",(function(e){void 0===e&&(e={}),"string"==typeof e&&(e=JSON.parse(e));var t=e.state,n=e.downloadTaskId;if(delete e.state,delete e.downloadTaskId,ii.emit(""+n+t,e),"success"===t||"fail"===t){if(ni=Math.max(ni-1,0),ri.length>0){var r=ri.shift();Xo.set(r.item,Date.now()),Wo.call(r.item)}var o=oi[n];if(o){try{ai(o,t,e.errMsg)}catch(e){}delete oi[n],ii.removeAllListeners(n+"success"),ii.removeAllListeners(n+"fail"),ii.removeAllListeners(n+"progressUpdate")}}}));var si=l((function(e){var t=this;this.requestVersion="v1",this.abort=function(){var e=Ko.get(t),n=Go.get(t);if(Ko.set(t,Do),e===Oo){var r=ri.findIndex((function(e){return e.id===qo.get(t)}));r>-1&&ri.splice(r,1),ti.set(t,Ro),setTimeout((function(){var e="downloadFile:fail abort";"function"==typeof n.fail&&n.fail({errMsg:e}),ai(t,"cancel",e),"function"==typeof n.complete&&n.complete({errMsg:e})}),0)}else e!==Do&&(ti.set(t,Bo),br("operateDownloadTask",{downloadTaskId:Jo.get(t),operationType:"abort"}))},this.onProgressUpdate=function(e){ii.on(Jo.get(t)+"progressUpdate",(function(t){"function"==typeof e&&en(e,"at DownloadTask.onProgressUpdate callback function")(t)}))},Qo.set(this,Date.now());var n,r,o,i=Vo++;Ho.set(this,i),qo.set(this,i),Ko.set(this,Oo),["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=en(n,"at api downloadFile "+t+" callback function"))})),Go.set(this,e),ni>=5?($o.set(this,Date.now()),Yo.set(this,ri.length),ri.push({id:i,item:this}),n=this,r=Go.get(n),o={request_trace:Zo.get(n)||"",request_url:r.url.split("?")[0],request_method:r.method||"GET",request_queue_length:5+ri.length,request_type:"downloadFile"},tt(Be,$e).setPlatform("TeaSlardar").addMap(o).flush()):Wo.call(this)}));function ci(e,t,n){var r=Je,o={request_url:"string"==typeof e?e.split("?")[0]:H(e),request_method:"string"==typeof t?t:H(t),error_msg:n,result_type:"fail",request_version:"v1",api_name:"downloadFile"};tt(Be,r).setPlatform("TeaSlardar").addMap(o).flush()}var ui=gr(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t);return{F:n,d:[{kind:"field",key:"fgWebDownloadH5",value:function(){return!1}},{kind:"method",key:"setup",value:function(){var e=this;Hr(rt(n.prototype),"setup",this).call(this),setTimeout((function(){var t;null!=(t=window.h5sdk)&&t.addReadySuccessCallback&&window.h5sdk.addReadySuccessCallback((function(){e.invokeMethod("getFilterFeatureGating",{fg_name:"calculated_fg_web_download_h5",success:function(t){var n=t.fg_value;e.fgWebDownloadH5=n},fail:function(e){D.error("getFilterFeatureGating failed:",e)}})}))}),0)}},{kind:"method",decorators:[jr()],key:"downloadFile",value:function(e){if(void 0===e&&(e={}),this.fgWebDownloadH5)return function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n={resultType:"fail",errMsg:"downloadFile:fail",bizInvokeTime:Date.now(),taskId:"",url:e.url};if(!Ar("downloadFile",e,{url:""},!0))return n.errMsg="downloadFile:fail invalid param.url type",n.errno=jt,n.errString=wt("url"),void Lo.reportResult(n);var r="",o="";if(Zt(e.url)||(r='invalid url "'+e.url+'"',o=bt("url")),!r&&("string"!=typeof e.method&&e.method||0===e.method)&&(r="param.method should pass string, not "+typeof e.method,o=wt("method")),r)return n.errMsg="downloadFile:fail "+r,n.errno=jt,n.errString=o,Lo.reportResult(n),void Ir("downloadFile",e,r,{errno:jt,errString:o});var i=!1,a=e.filePath;if(null==a||""===a?delete e.filePath:"string"!=typeof a&&(n.errMsg="downloadFile:fail invalid param.filePath type",n.errno=jt,n.errString=wt("filePath"),Lo.reportResult(n),Ir("downloadFile",e,"filePath could only be string or null/undefined",{errno:jt,errString:wt("filePath")}),i=!0),i)return new Lo(e,!0);var s=Object.assign({},e);if("object"==typeof s.header&&null!==s.header||(D.warn("downloadFile: header must be an object"),s.header={}),s.header=$t(s.header),["success","fail","complete"].forEach((function(e){var t=s[e];"function"==typeof t&&(s[e]=en(t,"at api downloadFile "+e+" callback function"))})),s.method||(s.method="GET"),"string"==typeof s.method&&(s.method=s.method.toUpperCase()),"GET"===s.method)s.url=Qt(s.url,s.data),s.data&&delete s.data;else{var c,u,l=void 0;void 0===s.data||(l="string"==typeof s.data||s.data instanceof ArrayBuffer?s.data:null!=(c=s.header["content-type"])&&c.includes("application/x-www-form-urlencoded")?Gt(s.data,!0):null!=(u=s.header["content-type"])&&u.includes("application/json")||"object"==typeof s.data?JSON.stringify(s.data):s.data.toString()),s.data=l}["success","fail","complete"].forEach((function(e){var t=s[e];"function"==typeof t&&(s[e]=en(t,"at api downloadFile "+e+" callback function"))}));var d=ae.pack(s);try{return new Lo(d,!1,t)}catch(t){var f;n.errMsg="downloadFile:fail create downloadFile instant catch error",Lo.reportResult(n),Ir("downloadFile",e,null!=(f=null==t?void 0:t.message)?f:"create downloadFile instant catch error",{errno:Lt,errString:kt()})}}(e,!0);if(this.beforeInvoke("downloadFile",e,{url:""})){var t,n="string"==typeof e.url?e.url.split("?")[0]:H(e.url),r="string"==typeof e.method?e.method.toUpperCase():e.method,o={};Zt(e.url)||(t="uncertain",o.url=n),r&&"GET"!==r||!e.data||(t="uncertain",o.data="method is GET"),"string"!=typeof r||""!==r&&!["HEAD","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"].includes(r.toUpperCase())||(t="certain",o.method=e.method),t&&tt(Re,Ye).setPlatform("TeaSlardar").addMap({url:n,bk_type:t,api_name:"downloadFile",params:o}).flush();try{return new si(e)}catch(t){ci(e.url,e.method,"downloadFile:fail create downloadFile instant catch error "),this.beforeInvokeFail("downloadFile",e,t.message)}}else ci(e.url,e.method,"downloadFile:fail invalid param.url type")}}]}}),Dr);function li(e){var t=this;this.beforeInvoke("getImageInfo",e,{src:""},!0)&&(/^(http|https):\/\//.test(e.src)?this.downloadFileAPI.downloadFile({url:e.src,success:function(n){e.src=n.tempFilePath,t.invokeMethod("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(n){var r={errno:zt,errString:At()};t.beforeInvokeFail("getImageInfo",e,"download image fail",r)}}):(/^(tt)?file:\/\//.test(e.src)||(e.src=this.getRealRoute(e.src)),this.invokeMethod("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))}var di=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[Nr((function(){return ui}))],key:"downloadFileAPI",value:void 0},{kind:"field",decorators:[jr()],key:"chooseImage",value:function(){return this.createInvokeMethodApi("chooseImage",{defaults:{count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},beforeSuccess:function(e){e.tempFileSizes&&(e.tempFiles=e.tempFilePaths.map((function(t,n){return{path:t,size:e.tempFileSizes[n]}}))),delete e.tempFileSizes}})}},{kind:"field",decorators:[jr()],key:"previewImage",value:function(){return this.createInvokeMethodApi("previewImage")}},{kind:"field",decorators:[jr()],key:"getImageInfo",value:function(){return li.bind(this)}},{kind:"field",decorators:[jr()],key:"saveImageToPhotosAlbum",value:function(){return this.createInvokeMethodApi("saveImageToPhotosAlbum")}},{kind:"field",decorators:[jr()],key:"compressImage",value:function(){var e=this;return this.createInvokeMethodApi("compressImage",{addStandardError:!0,checkParams:{src:""},paramsTransformer:function(t){return/^(tt)?file:\/\//.test(t.src)||/^(http|https):\/\//.test(t.src)?t:Object.assign({},t,{src:e.getRealRoute(t.src)})}})}},{kind:"method",key:"getRealRoute",value:function(e){return e}}]}}),Dr),fi=["success","loading","none","info","error","warning"],hi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"showToast",value:function(e){void 0===e&&(e={}),(e=Object.assign({duration:1500,title:"",icon:"success"},e)).icon&&-1!==fi.indexOf(e.icon)?"none"===e.icon&&(e.icon=""):e.icon="success",this.beforeInvoke("showToast",e,{duration:1,title:"String",icon:"String"},!0)&&this.invokeMethod("showToast",e)}},{kind:"field",decorators:[jr()],key:"hideToast",value:function(){return this.createInvokeMethodApi("hideToast")}}]}}),Dr),pi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"showActionSheet",value:function(e){void 0===e&&(e={});this.beforeInvoke("showActionSheet",e,{itemList:["String"]})&&(e.itemList.length<1&&this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at least 1 item"),e.itemList.length>6?this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at most 6 items"):this.invokeMethod("showActionSheet",e))}}]}}),Dr),vi=function(e){return"string"==typeof e?e.replace(/[^\u0000-\u00ff]/g,"aa").length:0},gi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"showPrompt",value:function(){var e=this;return function(t){void 0===t&&(t={}),vi(t.title)>30?e.beforeInvokeFail("showPrompt",t,"title length should not larger than 15 Chinese characters"):vi(t.confirmText)>8?e.beforeInvokeFail("showPrompt",t,"confirmText length should not larger than 4 Chinese characters"):vi(t.cancelText)>8?e.beforeInvokeFail("showPrompt",t,"cancelText length should not larger than 4 Chinese characters"):(t.maxLength=function(e){return"number"!=typeof e||isNaN(e)?140:e>=-1?e:140}(t.maxLength),e.invokeMethod("showPrompt",t))}}}]}}),Dr),mi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"setAuthenticationInfo",value:function(){return this.createInvokeMethodApi("setAuthenticationInfo",{checkParams:{mobile:"String",identifyCode:"String",identifyName:"String"}})}},{kind:"field",decorators:[jr()],key:"startFaceIdentify",value:function(){return this.createInvokeMethodApi("startFaceIdentify")}},{kind:"field",decorators:[jr()],key:"startFaceVerify",value:function(){return this.createInvokeMethodApi("startFaceVerify",{checkParams:{userId:"String"},addStandardError:!0})}}]}}),Dr),yi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getClipboardData",value:function(){return this.createInvokeMethodApi("getClipboardData")}},{kind:"field",decorators:[jr()],key:"setClipboardData",value:function(){return this.createInvokeMethodApi("setClipboardData",{addStandardError:!0,checkParams:{data:"String"}})}}]}}),Dr),ki=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"enabled",value:function(){return!1}},{kind:"method",decorators:[jr()],key:"startCompass",value:function(e){void 0===e&&(e={}),this.invokeMethod("startCompass",e),this.enabled=!0}},{kind:"method",decorators:[jr()],key:"stopCompass",value:function(e){void 0===e&&(e={}),this.invokeMethod("stopCompass",e),this.enabled=!1}},{kind:"field",decorators:[jr()],key:"CompassChange",value:function(){var e=this;return this.createNativeEventApi("onCompassChange",{whenListenerAdd:function(){e.enabled||e.startCompass()}})}}]}}),Dr),bi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"enabled",value:function(){return!1}},{kind:"method",decorators:[jr()],key:"startAccelerometer",value:function(e){void 0===e&&(e={}),this.invokeMethod("enableAccelerometer",Object.assign({},e,{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),this.enabled=!0}},{kind:"method",decorators:[jr()],key:"stopAccelerometer",value:function(e){void 0===e&&(e={}),this.invokeMethod("enableAccelerometer",Object.assign({},e,{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),this.enabled=!0}},{kind:"field",decorators:[jr()],key:"AccelerometerChange",value:function(){var e=this;return this.createNativeEventApi("onAccelerometerChange",{whenListenerAdd:function(){e.enabled||e.startAccelerometer()}})}}]}}),Dr);function wi(e){return(e.devices||[]).forEach((function(e){var t=e.advertisData;t?e.advertisData=q(t):delete e.advertisData;var n=e.serviceData,r=void 0===n?{}:n;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?r[o]=q(i):delete r[o]}})),e}var Si=new WeakMap,_i=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"openBluetoothAdapter",value:function(){return this.createInvokeMethodApi("openBluetoothAdapter")}},{kind:"field",decorators:[jr()],key:"closeBluetoothAdapter",value:function(){return this.createInvokeMethodApi("closeBluetoothAdapter")}},{kind:"field",decorators:[jr()],key:"getBluetoothAdapterState",value:function(){return this.createInvokeMethodApi("getBluetoothAdapterState")}},{kind:"field",decorators:[jr()],key:"startBluetoothDevicesDiscovery",value:function(){return this.createInvokeMethodApi("startBluetoothDevicesDiscovery",{addStandardError:!0,checkExtendParams:{services:{type:"Array",required:!1},allowDuplicatesKey:{type:"Boolean",required:!1},interval:{type:"Number",required:!1}}})}},{kind:"field",decorators:[jr()],key:"stopBluetoothDevicesDiscovery",value:function(){return this.createInvokeMethodApi("stopBluetoothDevicesDiscovery")}},{kind:"field",decorators:[jr()],key:"getConnectedBluetoothDevices",value:function(){return this.createInvokeMethodApi("getConnectedBluetoothDevices",{addStandardError:!0,checkExtendParams:{services:{type:"Array",required:!0}}})}},{kind:"field",decorators:[jr()],key:"getBluetoothDevices",value:function(){return this.createInvokeMethodApi("getBluetoothDevices",{paramsTransformer:function(e){var t=e.success;return t&&(e.success=function(e){var n=wi(e);t(n)}),e}})}},{kind:"field",decorators:[jr()],key:"BluetoothAdapterStateChange",value:function(){return this.createNativeEventApi("bluetoothAdapterStateChange")}},{kind:"field",decorators:[jr()],key:"BluetoothDeviceFound",value:function(){return this.createNativeEventApi("bluetoothDeviceFound",{wrapper:function(e){return function(t){var n=Si.get(t)||wi(t);Si.set(t,n),e(n)}}})}}]}}),Dr),Ci=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"connectBLEDevice",value:function(){return this.createInvokeMethodApi("connectBLEDevice",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"disconnectBLEDevice",value:function(){return this.createInvokeMethodApi("disconnectBLEDevice",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"getBLEDeviceCharacteristics",value:function(){return this.createInvokeMethodApi("getBLEDeviceCharacteristics",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"getBLEDeviceServices",value:function(){return this.createInvokeMethodApi("getBLEDeviceServices",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"notifyBLECharacteristicValueChange",value:function(){return this.createInvokeMethodApi("notifyBLECharacteristicValueChange",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},descriptorId:{type:"String",required:!1},state:{type:"Boolean",required:!1}}})}},{kind:"field",decorators:[jr()],key:"readBLECharacteristicValue",value:function(){return this.createInvokeMethodApi("readBLECharacteristicValue",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"writeBLECharacteristicValue",value:function(){return this.createInvokeMethodApi("writeBLECharacteristicValue",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},value:{type:"String",required:!0}}})}},{kind:"method",decorators:[jr()],key:"setBLEMTU",value:function(e){void 0===e&&(e={}),this._setBLEMTU(e)}},{kind:"field",decorators:[jr()],key:"BLECharacteristicValueChange",value:function(){return this.createNativeEventApi("BLECharacteristicValueChange")}},{kind:"field",decorators:[jr()],key:"BLEConnectionStateChange",value:function(){return this.createNativeEventApi("BLEConnectionStateChange")}},{kind:"field",key:"_setBLEMTU",value:function(){return this.createInvokeMethodApi("setBLEMTU",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},mtu:{type:"Number",required:!0}}})}}]}}),Dr),Ai=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"reverseGeocode",value:function(){return this.createInvokeMethodApi("reverseGeocode")}}]}}),Dr),Ii=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getKAInfo",value:function(){return this.createInvokeMethodApi("getKAInfo")}}]}}),Dr),Mi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getEnvVariable",value:function(){return this.createInvokeMethodApi("getEnvVariable")}}]}}),Dr),xi="onChatBadgeChange",Ei="offChatBadgeChange",Ti="getChatInfo",Pi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"onChatBadgeChange",value:function(e){if(this.beforeInvoke(xi,e,{openChatId:"",onChange:function(){}},!0)){var t=this.emitter,n=e.openChatId,r=e.onChange;t.size(n,r)||(t.size(n)||(delete e.onChange,this.invokeMethod(xi,e)),r&&t.on(n,r)),Kt(xi,e)}}},{kind:"method",decorators:[jr()],key:"offChatBadgeChange",value:function(e){if(this.beforeInvoke(Ei,e,{openChatId:""},!0)){var t=e.openChatId,n=e.onChange,r=this.emitter,o=r.size(t,n);r.off(t,n),o&&!r.size(t)&&this.invokeMethod(Ei,e),Kt(Ei,e)}}},{kind:"method",decorators:[jr()],key:"getChatInfo",value:function(e){if(((null==void 0?void 0:undefined.agent)||{}).isGetChatInfoStandardizeEnabled)this.beforeInvoke(Ti,e,{openChatId:""},!0)&&this.invokeMethod(Ti,e);else if(this.beforeInvoke(Ti,e,{openChatId:"",chatType:0})){var t=e.chatType;[0,1].includes(t)?0!==t||[0,1].includes(e.userType)?this.invokeMethod(Ti,e):Jt(Ti,e,"must set userType when chatType is 0"):this.beforeInvokeFail(Ti,e,"chatType can only be 0 or 1")}}},{kind:"method",key:"setup",value:function(){var e=this;this.onMethod("chatBadgeChangeObserved",(function(t){void 0===t&&(t={}),t.openChatId&&e.emitter.emit(t.openChatId,{badge:t.badge})}))}}]}}),Dr),Fi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getLocation",value:function(){return this.createInvokeMethodApi("getLocation",{frequencyStrategy:"throttle",frequencyTime:0,frequencyReportTimeout:1e4,frequencyReporter:this.reportGetLocationTimeout.bind(this)})}},{kind:"field",decorators:[jr()],key:"openLocation",value:function(){return this.createInvokeMethodApi("openLocation",{addStandardError:!0,checkParams:{latitude:0,longitude:0}})}},{kind:"field",decorators:[jr()],key:"chooseLocation",value:function(){return this.createInvokeMethodApi("chooseLocation")}},{kind:"field",decorators:[jr()],key:"getLocationStatus",value:function(){return this.createInvokeMethodApi("getLocationStatus")}},{kind:"field",decorators:[jr()],key:"startLocationUpdate",value:function(){return this.createInvokeMethodApi("startLocationUpdate")}},{kind:"field",decorators:[jr()],key:"stopLocationUpdate",value:function(){return this.createInvokeMethodApi("stopLocationUpdate")}},{kind:"field",decorators:[jr()],key:"LocationChange",value:function(){return this.createNativeEventApi("onLocationChange")}},{kind:"field",decorators:[jr()],key:"LocationChangeError",value:function(){return this.createNativeEventApi("onLocationChangeError")}},{kind:"method",key:"reportGetLocationTimeout",value:function(e){var t=e.timeout,n=e.apiName,r=e.waitingLength;tt(De,qe).addMap({api_name:n,api_queue_length:r,api_timeout:t}).flush()}}]}}),Dr),Li=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"shareWebContent",value:function(){return this.createInvokeMethodApi("shareWebContent")}}]}}),Dr),Oi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getNetworkEnv",value:function(){return this.createInvokeMethodApi("getNetworkEnv")}}]}}),Dr),ji=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"share",value:function(){return this.createInvokeMethodApi("share")}}]}}),Dr),Ni=function(){function e(){var t=this;this.onDownloadComplete=function(n){return e.onDownloadComplete(t,n)}}return e.createInstance=function(t){var n=new e,r=sn();this.taskIDMap.set(n,r);var o=Object.assign({},t,{taskID:r});return Fr(this.apiName)(o),n},e.onDownloadComplete=function(e,t){var n=this,r=this.taskIDMap.get(e);r&&zi.on(r,(function(e){"function"==typeof t&&en(t,"at "+n.apiName+".onDownloadComplete callback function")(e)}))},l(e)}();Ni.apiName="openFileFromCloud",Ni.taskIDMap=new WeakMap;var Di=function(){function e(){}return e.createInstance=function(e){var t=this,n=new this,r=sn();this.taskIDMap.set(n,r);var o=Object.assign({},e,{taskID:r});return Fr(this.apiName,{beforeAll:function(){t.finishMap.set(n,!0)}})(o),n},e.onProgressUpdate=function(e,t){var n=this,r=this.taskIDMap.get(e);r&&!e.finish&&zi.on(r,(function(e){"function"==typeof t&&en(t,"at "+n.apiName+".onProgressUpdate callback function")(e)}))},e.abortWith=function(e,t){var n=this,r=this.taskIDMap.get(e);if(r&&!e.finish){Fr(this.abortName,{afterSuccess:function(){n.finishMap.set(e,!0)}})(Object.assign({taskID:r},t))}else{Jt(this.apiName+".abort",t,void 0,{errString:"Task completed",errno:2500004})}},e.isFinishWith=function(e){return!!this.finishMap.get(e)},l(e,[{key:"finish",get:function(){return!1}}]),e}();Di.apiName=void 0,Di.abortName=void 0,Di.taskIDMap=void 0,Di.finishMap=void 0;var Bi=function(e){function t(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).onProgressUpdate=function(e){return t.onProgressUpdate(Q(n),e)},n.abort=function(e){return t.abortWith(Q(n),e)},n}return S(t,e),l(t,[{key:"finish",get:function(){return t.isFinishWith(this)}}]),t}(Di);Bi.apiName="uploadFileToCloud",Bi.abortName="uploadFileToCloudAbort",Bi.taskIDMap=new WeakMap,Bi.finishMap=new WeakMap;var Ri=function(e){function t(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).onProgressUpdate=function(e){return t.onProgressUpdate(Q(n),e)},n.abort=function(e){return t.abortWith(Q(n),e)},n}return S(t,e),l(t,[{key:"finish",get:function(){return t.isFinishWith(this)}}]),t}(Di);Ri.apiName="downloadFileFromCloud",Ri.abortName="downloadFileFromCloudAbort",Ri.taskIDMap=new WeakMap,Ri.finishMap=new WeakMap;var zi=new wo.EventEmitter2,Ui=new Map;["onUploadFileToCloudUpdate","onDownloadFileFromCloudUpdate"].forEach((function(e){wr(e,(function(e){var t=e.taskID,n=e.progress;if(t&&n&&yt(n)){var r=Ui.get(t);if((r||0===r)&&n<r)return;Ui.set(t,n),zi.emit(t,{progress:n})}}))})),["onOpenFileFromCloudDownloadComplete"].forEach((function(e){wr(e,(function(e){var t=e.taskID;t&&(delete e.taskID,zi.emit(t,e))}))}));var Wi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"uploadFileToCloud",value:function(){return function(e){return Bi.createInstance(e)}}},{kind:"field",decorators:[jr()],key:"downloadFileFromCloud",value:function(){return function(e){return Ri.createInstance(e)}}},{kind:"field",decorators:[jr()],key:"openFileFromCloud",value:function(){return function(e){return Ni.createInstance(e)}}}]}}),Dr),Vi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"UserCaptureScreen",value:function(){var e=this;return this.createNativeEventApi("userCaptureScreenObserved",{whenListenerExisted:function(){e.invokeMethod("onUserCaptureScreen")},whenListenerEmptied:function(){e.invokeMethod("offUserCaptureScreen")}})}}]}}),Dr),qi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getNetworkType",value:function(){return this.createInvokeMethodApi("getNetworkType")}},{kind:"field",decorators:[jr()],key:"NetworkStatusChange",value:function(){var e=this;return this.createNativeEventApi("onNetworkStatusChange",{whenListenerExisted:function(){e.invokeMethod("onNetworkStatusChange")},whenListenerEmptied:function(){e.invokeMethod("offNetworkStatusChange")}})}}]}}),Dr),Hi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getNetworkQualityType",value:function(){return this.createInvokeMethodApi("getNetworkQualityType")}},{kind:"field",decorators:[jr()],key:"NetworkQualityChange",value:function(){var e=this;return this.createNativeEventApi("onNetworkQualityChange",{whenListenerExisted:function(){e.invokeMethod("onNetworkQualityChange")},whenListenerEmptied:function(){e.invokeMethod("offNetworkQualityChange")}})}}]}}),Dr),Ji=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getConnectedWifi",value:function(){return this.createInvokeMethodApi("getConnectedWifi")}},{kind:"field",decorators:[jr()],key:"getWifiStatus",value:function(){return this.createInvokeMethodApi("getWifiStatus")}},{kind:"field",decorators:[jr({sync:!0})],key:"getWifiStatusSync",value:function(){return null}},{kind:"field",decorators:[jr()],key:"getWifiList",value:function(){return this.createInvokeMethodApi("getWifiList")}},{kind:"field",decorators:[jr()],key:"GetWifiList",value:function(){var e=this;return this.createNativeEventApi("onGetWifiList",{whenListenerExisted:function(){e.invokeMethod("onGetWifiList")},whenListenerEmptied:function(){e.invokeMethod("offGetWifiList")}})}}]}}),Dr),Ki="_onWatermarkChange";function Gi(e){var t,n,r;return"function"==typeof e?t=e:"object"==typeof e&&("function"==typeof e.callback&&(t=e.callback),"function"==typeof e.success&&(n=e.success),"function"==typeof e.fail&&(r=e.fail)),{callback:t,success:n,fail:r}}var Qi=gr(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t);return{F:n,d:[{kind:"field",decorators:[jr()],key:"checkWatermark",value:function(){return this.createInvokeMethodApi("checkWatermark")}},{kind:"field",decorators:[jr()],key:"hasWatermark",value:function(){return null}},{kind:"method",decorators:[jr()],key:"onWatermarkChange",value:function(e){if(e){var t=Gi(e),n=t.callback,r=t.success,o=t.fail;if(n){var i=this.emitter;if(0===i.size(Ki)){this.invokeMethod("onWatermarkChange",{success:function(e){i.on(Ki,n),r&&r(e)},fail:o})}else i.on(Ki,n),r&&r()}else o&&o("have no callback")}}},{kind:"method",decorators:[jr()],key:"offWatermarkChange",value:function(e){if(e){var t=Gi(e),n=t.callback,r=t.success,o=t.fail;if(n){r&&r();var i=this.emitter,a=i.size(Ki);i.off(Ki,n),1===a&&0===i.size(Ki)&&this.invokeMethod("offWatermarkChange",{})}else o&&o("have no callback")}}},{kind:"method",key:"setup",value:function(){var e=this;Hr(rt(n.prototype),"setup",this).call(this),this.onMethod("onWatermarkChange",(function(t){void 0===t&&(t={}),e.emitter.emit(Ki,t)}))}}]}}),Dr),Zi=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"checkLocalFaceVerify",value:function(){return this.createInvokeMethodApi("checkLocalFaceVerify",{addStandardError:!0,checkExtendParams:{checkUpdate:{type:"Boolean",required:!1,defaultValue:!0}}})}},{kind:"field",decorators:[jr()],key:"prepareLocalFaceVerify",value:function(){return this.createInvokeMethodApi("prepareLocalFaceVerify",{addStandardError:!0,checkExtendParams:{timeout:{type:"Number",required:!1,defaultValue:60}}})}},{kind:"field",decorators:[jr()],key:"startLocalFaceVerify",value:function(){return this.createInvokeMethodApi("startLocalFaceVerify",{addStandardError:!0,checkExtendParams:{path:{type:"String",required:!0}}})}}]}}),Dr),$i=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"acquireFaceImage",value:function(){return this.createInvokeMethodApi("acquireFaceImage")}}]}}),Dr),Yi=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf-8","utf8","latin1"];function Xi(e,t){if(!e||"string"!=typeof e)throw qt(new TypeError(t+" must be a string"),t)}var ea=function(){function e(e){var t=e.mode,n=void 0===t?0:t,r=e.size,o=void 0===r?0:r,i=e.lastAccessedTime,a=void 0===i?"":i,s=e.lastModifiedTime,c=void 0===s?"":s;this.mode=void 0,this.size=void 0,this.lastAccessedTime=void 0,this.lastModifiedTime=void 0,this.mode=n,this.size=o,this.lastAccessedTime=a,this.lastModifiedTime=c}var t=e.prototype;return t._checkModeProperty=function(e){return(61440&this.mode)===e},t.isFile=function(){return this._checkModeProperty(32768)},t.isDirectory=function(){return this._checkModeProperty(16384)},l(e)}();function ta(){var e=this.createInvokeMethodApi,t=this.createInvokeMethodSyncApi;return{getFileInfo:e("getFileInfo",{addStandardError:!0,checkParams:{filePath:""}}),getSavedFileList:e("getSavedFileList",{addStandardError:!0}),removeSavedFile:e("removeSavedFile",{addStandardError:!0,checkParams:{filePath:""}}),getSavedFileInfo:e("getSavedFileInfo",{addStandardError:!0,checkParams:{filePath:""}}),saveFile:e("saveFile",{addStandardError:!0,checkParams:{tempFilePath:""}}),saveFileSync:t("saveFileSync",(function(e,t){return Xi(e,"tempFilePath"),{tempFilePath:e,filePath:t}}),(function(e){return e.savedFilePath})),readFile:e("readFile",{addStandardError:!0,checkParams:{filePath:""}}),readFileSync:t("readFileSync",(function(e,t){Xi(e,"filePath");var n={filePath:e};return t&&(Xi(t,"encoding"),n.encoding=t),n}),(function(e){return e.data})),writeFile:e("writeFile",{addStandardError:!0,checkParams:{filePath:""},customCheckParams:function(e){if(e.encoding&&!Yi.includes(e.encoding))return{message:'invalid encoding "'+e.encoding+'"',key:"encoding"}}}),writeFileSync:t("writeFileSync",(function(e,t,n){if(Xi(e,"filePath"),n&&-1===Yi.indexOf(n))throw Vt(new Error('invalid encoding "'+n+'"'),"encoding");return{filePath:e,data:t,encoding:n}}),!1),mkdir:e("mkdir",{addStandardError:!0,checkParams:{dirPath:""}}),mkdirSync:t("mkdirSync",(function(e,t){return void 0===t&&(t=!1),Xi(e,"dirPath"),{dirPath:e,recursive:t}}),!1),readdir:e("readdir",{addStandardError:!0,checkParams:{dirPath:""}}),readdirSync:t("readdirSync",(function(e){return Xi(e,"dirPath"),{dirPath:e}}),(function(e){return e.files})),rmdir:e("rmdir",{addStandardError:!0,checkParams:{dirPath:""}}),rmdirSync:t("rmdirSync",(function(e,t){return void 0===t&&(t=!1),Xi(e,"dirPath"),{dirPath:e,recursive:t}}),!1),access:e("access",{addStandardError:!0,checkParams:{path:""},paramsTransformer:function(e){/^(ttfile|http):\/\/(user|temp)$/.test(e.path)&&(e.path+="/")}}),accessSync:t("accessSync",(function(e){Xi(e,"path");return/^(ttfile|http):\/\/(user|temp)$/.test(e)&&(e+="/"),{path:e}}),!1),unlink:e("unlink",{addStandardError:!0,checkParams:{filePath:""}}),unlinkSync:t("unlinkSync",(function(e){return Xi(e,"filePath"),{filePath:e}}),!1),stat:e("stat",{addStandardError:!0,checkParams:{path:""},beforeSuccess:function(e){e.stats=e.stat=new ea(e.stat)}}),statSync:t("statSync",(function(e){return Xi(e,"path"),{path:e}}),(function(e){return new ea(e.stat)})),rename:e("rename",{addStandardError:!0,checkParams:{oldPath:"",newPath:""}}),renameSync:t("renameSync",(function(e,t){return Xi(e,"oldPath"),Xi(t,"newPath"),{oldPath:e,newPath:t}}),!1),copyFile:e("copyFile",{addStandardError:!0,checkParams:{srcPath:"",destPath:""}}),copyFileSync:t("copyFileSync",(function(e,t){return Xi(e,"srcPath"),Xi(t,"destPath"),{srcPath:e,destPath:t}}),!1),unzip:e("unzip",{addStandardError:!0,checkParams:{zipFilePath:"",targetPath:""}}),appendFile:e("appendFile",{addStandardError:!0}),appendFileSync:t("appendFileSync",(function(e,t,n){return{filePath:e,data:t,encoding:n}}),!1,{firstUseErrString:!0}),decryptFile:e("decryptFile",{addStandardError:!0})}}var na,ra,oa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"fs",value:function(){return ta.call(this)}},{kind:"method",decorators:[jr()],key:"getFileSystemManager",value:function(){return this.fs}},{kind:"field",decorators:[jr()],key:"saveFile",value:function(){return this.fs.saveFile}},{kind:"field",decorators:[jr()],key:"getFileInfo",value:function(){return null}},{kind:"field",decorators:[jr()],key:"getSavedFileList",value:function(){return this.fs.getSavedFileList}},{kind:"field",decorators:[jr()],key:"removeSavedFile",value:function(){return this.fs.removeSavedFile}}]}}),Dr),ia=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getExtConfig",value:function(){return this.createInvokeMethodApi("getExtConfig")}},{kind:"field",decorators:[jr()],key:"getExtConfigSync",value:function(){return null}}]}}),Dr),aa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"makePhoneCall",value:function(){return this.createInvokeMethodApi("makePhoneCall",{addStandardError:!0,checkParams:{phoneNumber:""}})}},{kind:"field",decorators:[jr()],key:"getPhoneNumber",value:function(){return null}}]}}),Dr),sa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"scanCode",value:function(){return this.createInvokeMethodApi("scanCode",{addStandardError:!0,beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})}}]}}),Dr);!function(e){e.NDEF="NDEF",e.A="NFC-A",e.B="NFC-B",e.F="NFC-F",e.V="NFC-V",e.MIFARE_CLASSIC="MIFARE-Classic",e.MIFARE_ULTRALIGHT="MIFARE-Ultralight",e.ISO_DEP="ISO-DEP"}(ra||(ra={}));var ca=new WeakMap;function ua(e,t,n){ca.get(e).invokeMethod(t,Object.assign({tech:e.tech},n))}var la=function(){function e(e,t){this.tech=void 0,this.tech=e,function(e,t){ca.set(e,t)}(this,t)}var t=e.prototype;return t.connect=function(e){ua(this,"nfcConnect",e)},t.close=function(e){ua(this,"nfcClose",e)},t.setTimeout=function(e){ua(this,"nfcSetTimeout",e)},t.transceive=function(e){ua(this,"nfcTransceive",e)},t.getMaxTransceiveLength=function(e){ua(this,"nfcMaxTransceiveLength",e)},l(e)}(),da=function(e){function t(t){return e.call(this,ra.A,t)||this}S(t,e);var n=t.prototype;return n.getAtqa=function(e){ua(this,"nfcGetAtqa",e)},n.getSak=function(e){ua(this,"nfcGetSak",e)},l(t)}(la),fa=function(e){function t(t){return e.call(this,ra.V,t)||this}return S(t,e),l(t)}(la),ha=function(e){function t(t){return e.call(this,ra.B,t)||this}return S(t,e),l(t)}(la),pa=function(e){function t(t){return e.call(this,ra.ISO_DEP,t)||this}return S(t,e),l(t)}(la),va=function(e){function t(t){return e.call(this,ra.MIFARE_CLASSIC,t)||this}return S(t,e),l(t)}(la),ga=((na={})[ra.A]=da,na[ra.B]=ha,na[ra.V]=fa,na[ra.ISO_DEP]=pa,na[ra.MIFARE_CLASSIC]=va,na),ma=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"adapter",value:function(){return this.nfcAdapter()}},{kind:"field",key:"instances",value:function(){return{}}},{kind:"method",decorators:[jr()],key:"getNFCAdapter",value:function(){return this.adapter}},{kind:"method",key:"nfcAdapter",value:function(){var e=this,t=this.createNativeEventApi("nfcFoundDevice"),n=t.on,r=t.off;return{tech:ra,getNfcA:function(){return e.getInstance(ra.A)},getNfcB:function(){return e.getInstance(ra.B)},getNfcV:function(){return e.getInstance(ra.V)},getMifareClassic:function(){return e.getInstance(ra.MIFARE_CLASSIC)},getIsoDep:function(){return e.getInstance(ra.ISO_DEP)},onDiscovered:n,offDiscovered:r,startDiscovery:this.createInvokeMethodApi("nfcStartDiscovery"),stopDiscovery:this.createInvokeMethodApi("nfcStopDiscovery")}}},{kind:"method",key:"getInstance",value:function(e){var t=this.instances;return t[e]||(t[e]=new ga[e](this)),t[e]}}]}}),Dr),ya=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"startDeviceCredential",value:function(){return this.createInvokeMethodApi("startDeviceCredential",{checkParams:{authContent:"String"}})}}]}}),Dr),ka=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getTriggerContext",value:function(){return this.createInvokeMethodApi("getTriggerContext")}},{kind:"field",decorators:[jr()],key:"sendMessageCard",value:function(){return this.createInvokeMethodApi("sendMessageCard")}}]}}),Dr),ba=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"mailto",value:function(){return this.createInvokeMethodApi("mailto")}}]}}),Dr),wa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getDeviceID",value:function(){return this.createInvokeMethodApi("getDeviceID")}},{kind:"field",decorators:[jr()],key:"getLegacyDeviceID",value:function(){return this.createInvokeMethodApi("getLegacyDeviceID")}}]}}),Dr),Sa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"reportBadge",value:function(){return this.createInvokeMethodApi("reportBadge")}},{kind:"field",decorators:[jr()],key:"updateBadge",value:function(){return this.createInvokeMethodApi("updateBadge")}}]}}),Dr),_a=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[Nr((function(){return ui}))],key:"downloadFileAPI",value:void 0},{kind:"field",decorators:[jr()],key:"chooseMedia",value:function(){return this.createInvokeMethodApi("chooseMedia")}},{kind:"method",decorators:[jr()],key:"getVideoInfo",value:function(e){var t=this;void 0===e&&(e={}),this.beforeInvoke("getVideoInfo",e,{src:""},!0)&&(e.isSupportNetworkURL=Boolean(e.isSupportNetworkURL),/^(http|https):\/\//.test(e.src)?e.isSupportNetworkURL?this.invokeMethod("canIUse",{schema:"getVideoInfo.isSupportNetworkURL"},{beforeAll:function(n){return t.handleCanIUseSuccess(e,n)}}):this.handleNotSupportedNetworkURL(e):this.invokeMethod("getVideoInfo",e,{beforeSuccess:function(t){t.path=e.src}}))}},{kind:"method",key:"handleNotSupportedNetworkURL",value:function(e){var t={errno:Ut,errString:Mt()};this.beforeInvokeFail("getVideoInfo",e,"path not be supported",t)}},{kind:"method",key:"handleDownloadSuccess",value:function(e,t){e.src=t.tempFilePath,this.invokeMethod("getVideoInfo",e,{beforeSuccess:function(t){t.path=e.src}})}},{kind:"method",key:"handleDownloadFail",value:function(e,t){var n={errno:t.errno||Wt,errString:t.errString||It()};this.beforeInvokeFail("getVideoInfo",e,"download video fail",n)}},{kind:"method",key:"handleCanIUseSuccess",value:function(e,t){var n=this;t.data?this.downloadFileAPI.downloadFile({url:e.src,success:function(t){return n.handleDownloadSuccess(e,t)},fail:function(t){return n.handleDownloadFail(e,t)}}):this.handleNotSupportedNetworkURL(e)}}]}}),Dr),Ca=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getUserInfoEx",value:function(){return this.createInvokeMethodApi("getUserInfoEx")}}]}}),Dr),Aa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getStepCount",value:function(){return this.createInvokeMethodApi("getStepCount")}}]}}),Dr),Ia=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getBeacons",value:function(){return this.createInvokeMethodApi("getBeacons")}},{kind:"field",decorators:[jr()],key:"startBeaconDiscovery",value:function(){return this.createInvokeMethodApi("startBeaconDiscovery")}},{kind:"field",decorators:[jr()],key:"stopBeaconDiscovery",value:function(){return this.createInvokeMethodApi("stopBeaconDiscovery")}},{kind:"field",decorators:[jr()],key:"BeaconUpdate",value:function(){return this.createNativeEventApi("beaconUpdate",{offPolicy:"clearAll"})}},{kind:"field",decorators:[jr()],key:"BeaconServiceChange",value:function(){return this.createNativeEventApi("beaconServiceChange",{offPolicy:"clearAll"})}}]}}),Dr),Ma=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"openLingoProfile",value:function(){return this.createInvokeMethodApi("openLingoProfile")}}]}}),Dr),xa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"getContainerContext",value:function(){return this.createInvokeMethodApi("getContainerContext")}}]}}),Dr),Ea={button:{"1.0.0":[{size:["default","mini"]},{type:["primary","default","warn"]},"plagin","disabled","loading",{"form-type":["submit","reset"]},{"open-type":["share"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"],"1.14.0":["bindgetphonenumber",{"open-type":["getPhoneNumber"]}]},canvas:{"1.0.0":["canvas-id"]},"checkbox-group":{"1.0.0":["bindchange"]},checkbox:{"1.0.0":["value","disabled","checked","color"]},form:{"1.0.0":["bindsubmit","bindreset"],"1.29.0":["report-submit"]},icon:{"1.0.0":[{type:["success","success_no_circle","info","warn","waiting","cancel","download","search","clear"]},"size","color"]},image:{"1.0.0":["src",{mode:["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]},"lazy-load","binderror","bindload"]},input:{"1.0.0":["value",{type:["text","number","idcard","digit"]},"password","placeholder","placeholder-style","disabled","maxlength","focus","bindinput","bindfocus","bindblur","bindconfirm","cursor-spacing","cursor","selection-start","selection-end"]},label:{"1.0.0":["for"]},navigator:{"1.0.0":["url","delta",{"open-type":["navigate","redirect","switchTab","navigateBack"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"picker-view":{"1.0.0":["value","indicator-style","mask-style","bindchange"]},"picker-view-column":{"1.0.0":[]},picker:{"1.0.0":["range","range-key","value","bindchange","disabled","bindcancel",{mode:["selector","multiSelector","time","date","region"]}]},"radio-group":{"1.0.0":["bindchange"]},radio:{"1.0.0":["value","checked","disabled","color"]},"rich-text":{"1.0.0":["nodes"]},"scroll-view":{"1.0.0":["scroll-x","scroll-y","upper-threshold","lower-threshold","scroll-top","scroll-left","scroll-into-view","scroll-with-animation","bindscroll","bindscrolltoupper","bindscrolltolower"]},slider:{"1.0.0":["min","max","step","disabled","vaue","color","selected-color","active-color","background-color","block-size","block-color","show-value","bindchange","bindchanging"]},swiper:{"1.0.0":["indicator-dots","indicator-color","indicator-active-color","autoplay","current","current-item-id","interval","duration","circular","vertical","bindchange","display-multiple-items"],"1.20.0":["bindtransition"]},"swiper-item":{"1.0.0":["item-id"]},switch:{"1.0.0":["checked","disabled",{type:["switch","checkbox"]},"bindchange","color"]},text:{"1.0.0":["selectable","space","decode"]},textarea:{"1.0.0":["value","placeholder","placeholder-style","disabled","maxlength","focus","auto-height","fixed","cursor-spacing","cursor","selection-start","selection-end","bindinput","bindfocus","bindblur","bindconfirm","show-confirm-bar"]},view:{"1.0.0":["hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"web-view":{"1.0.0":["src","bindmessage"]},progress:{"1.0.0":["percent","stroke-width","color","active-color","background-color","active",{"active-mode":["backwards","forwards"]}]},video:{"1.0.0":["src","autoplay","poster","bindplay","bindpause","bindended","binderror"],"1.18.0":["bindtimeupdate","bindfullscreenchange"]},ad:{"1.19.0":["unit-id","bindload"],"1.26.2":["binderror"],"1.31.0":["bindclose"],"1.32.1":["ad-intervals"],"1.34.0":["fixed"]},"live-player":{"1.35.0":["src","autoplay","muted","orientation","object-fit","bindstatechange","binderror","bindfullscreenchange","showFullscreenControl"]}},Ta={request:{"1.0.0":[{object:["url","data","header",{method:["GET","POST","PUT"]},"dataType","responseType"]},{success:["data","statusCode","header"]}]},uploadFile:{"1.0.0":[{object:["url","filePath","name","header","formData"]},{success:["data","statusCode"]}]},UploadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesSent","totalBytesExpectedToSend"]}]}]},downloadFile:{"1.0.0":[{object:["url","header"]},{success:["tempFilePath","statusCode"]}]},DownloadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesWritten","totalBytesExpectedToWrite"]}]}]},connectSocket:{"1.0.0":[{object:["url","header","protocols"]}]},chooseImage:{"1.0.0":[{object:["count","sizeType","sourceType"]},{success:["tempFilePaths","tempFiles"]}]},SocketTask:{"1.0.0":[{send:[{object:["data"]}]},{close:[{object:["code","reason"]}]},"onOpen","onClose","onError","onMessage"]},previewImage:{"1.0.0":[{object:["urls","current"]}]},getImageInfo:{"1.10.0":[{object:["src"]},{success:["width","height","type"]}]},saveImageToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createInnerAudioContext:{"1.0.0":[]},innerAudioContext:{"1.0.0":["src","startTime","autoplay","loop","obeyMuteSwitch","duration","currentTime","paused","buffered","volume","play","pause","stop","seek","destory","onCanplay","offCanplay","onPlay","offPlay","onPause","offPause","onStop","offStop","onEnded","offEnded","onTimeUpdate","offTimeUpdate","onError","offError","onWaiting","offWaiting","onSeeking","offSeeking","onSeeked","offSeeked"]},getRecorderManager:{"1.0.0":[]},RecorderManager:{"1.0.0":[{start:[{object:["duration","sampleRate","numberOfChannels","encodeBitRate","frameSize"]}]},"pause","resume","stop","onStart","onPause","onStop","onError"]},chooseVideo:{"1.0.0":[{object:["sourceType","maxDuration","camera","compressed"]},{success:["tempFilePath","duration","size","height","width"]}]},saveVideoToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createVideoContext:{"1.18.0":[{object:["id","component"]}]},VideoContext:{"1.18.0":["play","pause","stop","seek","requestFullScreen","exitFullScreen"]},saveFile:{"1.0.0":[{object:["tempFilePath"]},{success:["savedFilePath"]}]},getFileInfo:{"1.15.0":[{object:["filePath"]},{success:["size"]}]},getSavedFileList:{"1.15.0":[{success:["fileList"]}]},FileItem:{"1.15.0":["filePath","size","createTime"]},removeSavedFile:{"1.15.0":[{object:["filePath"]}]},getSavedFileInfo:{"1.15.0":[{object:["filePath"]}]},getFileSystemManager:{"1.15.0":[]},FileSystemManager:{"1.15.0":[{access:[{object:["path"]}]},{saveFile:[{object:["tempFilePath","fillPath"]},{success:["savedFilePath"]}]},{getSavedFileList:[{success:["fileList"]}]},{removeSavedFile:[{object:["filePath"]}]},{copyFile:[{object:["srcPath","destPath"]}]},{getFileInfo:[{object:["fillPath"]},{success:["size"]}]},{getSavedFileInfo:[{object:["filePath"]},{success:["size","createTime"]}]},{mkdir:[{object:["dirPath"]}]},{readdir:[{object:["dirPath"]},{success:["files"]}]},{readFile:[{object:["filePath","encoding"]},{success:["data"]}]},{rename:[{object:["oldPath","newPath"]}]},{rmdir:[{object:["dirPath"]}]},{stat:[{object:["path"]},{success:["stat"]}]},{unlink:[{object:["filePath"]}]},{unzip:[{object:["zipFilePath","targetPath"]}]},{writeFile:[{object:["filePath","data","encoding"]}]}]},Stats:{"1.15.0":["mode","size","lastAccessedTime","lastModifiedTime","isDirectory","isFile"]},getStorage:{"1.0.0":[{object:["key"]},{success:["data"]}]},getStorageSync:{"1.0.0":[]},setStorage:{"1.0.0":[{object:["key","data"]}]},setStorageSync:{"1.0.0":[]},removeStorage:{"1.0.0":[{object:["key"]}]},removeStorageSync:{"1.0.0":[]},clearStorage:{"1.0.0":[]},clearStorageSync:{"1.0.0":[]},getStorageInfo:{"1.0.0":[{success:["keys","currentSize","limitSize"]}]},getStorageInfoSync:{"1.0.0":[]},getLocation:{"1.0.0":[{object:["type"]},{success:["latitude","longitude","altitude","accuracy","verticalAccuracy","horizontalAccuracy","speed","city"]}]},openLocation:{"1.0.0":[{object:["latitude","longitude","scale","name","address"]}]},getSystemInfo:{"1.0.0":[{success:["appName","model","pixelRatio","windowWidth","windowHeight","version","system","platform","brand","screenWidth","screenHeight","SDKVersion"]}]},getSystemInfoSync:{"1.0.0":[]},getNetworkType:{"1.0.0":[{success:["networkType"]}]},getConnectedWifi:{"1.0.0":[{success:["SSID","BSSID","secure","signalStrength"]}]},onNetworkStatusChange:{"1.0.0":[{callback:[{networkType:["wifi","2g","3g","4g","none","unknown"]}]}]},scanCode:{"1.0.0":[{success:["result"]}]},getClipboardData:{"1.0.0":[{success:["data"]}]},setClipboardData:{"1.0.0":[{object:["data"]}]},setKeepScreenOn:{"1.0.0":[{object:["keepScreenOn"]}]},startAccelerometer:{"1.0.0":[]},stopAccelerometer:{"1.0.0":[]},onAccelerometerChange:{"1.0.0":[{callback:["x","y","z"]}]},startCompass:{"1.2.0":[]},stopCompass:{"1.2.0":[]},onCompassChange:{"1.2.0":[{callback:["direction"]}]},vibrateLong:{"1.0.0":[]},vibrateShort:{"1.0.0":[]},showModal:{"1.0.0":[{object:["title","content","showCancel","cancelText","confirmText"]},{success:["confirm","cancel"]}]},showToast:{"1.0.0":[{object:["title","icon","duration"]}]},hideToast:{"1.0.0":[]},showLoading:{"1.1.0":[{object:["title"]}]},hideLoading:{"1.0.0":[]},showActionSheet:{"1.0.0":[{object:["itemList"]},{success:["tapIndex"]}]},setNavigationBarColor:{"1.40.0.0":[{object:["frontColor","backgroundColor"]}]},setNavigationBarTitle:{"1.0.0":[{object:["title"]}]},redirectTo:{"1.0.0":[{object:["url"]}]},reLaunch:{"1.0.0":[{object:["url"]}]},navigateBack:{"1.0.0":[{object:["delta"]}]},navigateTo:{"1.0.0":[{object:["url"]}]},switchTab:{"1.0.0":[{object:["url"]}]},createAnimation:{"1.0.0":[{object:["duration",{timingFunction:["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"]},"delay","transformOrigin"]}]},Animation:{"1.0.0":["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d","skew","skewX","skewY","matrix","matrix3d"]},pageScrollTo:{"1.0.0":[{object:["scrollTop","duration"]}]},createCanvasContext:{"1.0.0":[]},canvasToTempFilePath:{"1.0.0":[{object:["canvasId","x","y","width","height","destWidth","destHeight","fileType","quality"]}]},makePhoneCall:{"1.0.0":[{object:["phoneNumber"]}]},requestWXPayment:{"1.0.0":[]},arrayBufferToBase64:{"1.0.0":[]},base64ToArrayBuffer:{"1.0.0":[]},canIUse:{"1.0.0":[]},getPerformance:{"1.0.0":{success:["cpu","fps","memory","timing"]}},getUpdateManager:{"1.9.0":[]},UpdateManager:{"1.0.0":["onUpdateReady","onUpdateFailed","applyUpdate","triggerCheckUpdate",{onCheckForUpdate:[{callback:["hasUpdate"]}]}]},getHostLaunchQuery:{"1.47.0":[{success:["launchQuery"]}]},getHostLaunchQuerySync:{"1.47.0":[{success:["launchQuery"]}]},getExtConfig:{"1.0.0":[{success:["extConfig"]}]},getExtConfigSync:{"1.0.0":[]},getLaunchOptionsSync:{"1.12.0":[{return:["path","scene","query"]}]},exitMiniProgram:{"1.12.0":[]},getMenuButtonLayout:{"1.25.0":[{return:["width","height","top","right","bottom","left"]}]},startPullDownRefresh:{"1.0.0":[]},stopPullDownRefresh:{"1.0.0":[]},showShareMenu:{"1.5.0":[]},hideShareMenu:{"1.5.0":[]},createSelectorQuery:{"1.7.0":[]},SelectorQuery:{"1.7.0":["in","select","selectAll","selectViewport","exec"]},createIntersectionObserver:{"1.10.4":[{object:["thresholds","initialRatio","observeAll"]}]},IntersectionObserver:{"1.10.4":["relativeTo","relativeToViewport","observe","disconnect"]},getUseDuration:{"1.0.0":[]},dealUserRelation:{"1.0.0":[]},login:{"1.0.0":[{object:["force"]},{success:["code","anonymousCode","isLogin"]}]},checkSession:{"1.0.0":[]},getUserInfo:{"1.0.0":[{object:["withCredentials"]},{success:["userInfo","rawData","signature","encryptedData","iv"]}]},requestPayment:{"1.0.0":[{object:["data"]}]},pay:{"1.19.4":[{object:["orderInfo","service","getOrderStatus"]}]},navigateToMiniProgram:{"1.15.0":[{object:["appId","path","extraData",{envVersion:["current","latest"]}]}]},navigateBackMiniProgram:{"1.15.0":[{object:["extraData"]}]},chooseAddress:{"1.0.0":[{success:["errMsg","userName","provinceName","cityName","countyName","detailInfo","telNumber"]}]},getSetting:{"1.3.0":[{success:"authSetting"}]},openSetting:{"1.3.0":[{success:"authSetting"}]},AuthSetting:{"1.3.0":["userInfo","userLocation","address","record","album","camera"]},authorize:{"1.3.0":[{object:"scope"}]},reportAnalytics:{"1.8.0":[]},interactionAnalysis:{"1.22.2":[{object:["type"]},{success:["code"]}]},followOfficialAccount:{"1.30.0":[{success:["errCode"]}]},checkFollowState:{"1.30.0":[{success:["result"]}]},performance:{"1.42.0":["mark"]},showFavoriteGuide:{"1.41.0":[]},showNavigationBarLoading:{"1.48.0":[]},hideNavigationBarLoading:{"1.48.0":[]},hideHomeButton:{"1.48.0":[]},getWifiList:{"1.49.0":[]},onGetWifiList:{"1.49.0":[{callback:["wifiList"]}]},offGetWifiList:{"1.49.0":[{callback:[]}]}};function Pa(e,t,n){if(!t)return[];var r=Object.keys(n),o=r.indexOf(t);if(-1===o)return[];var i=n[r[o]];return Object.keys(i).filter((function(t){return function(e,t){var n,r=e.split("."),o=t.split(".");for(n=Math.max(r.length,o.length);r.length<n;)r.push("0");for(;o.length<n;)o.push("0");for(var i=0;i<n;i++){var a=parseInt(r[i]),s=parseInt(o[i]);if(a>s)return 1;if(a<s)return-1}return 0}(t,e)<=0}))}function Fa(e,t,n){for(var r,o=0;o<e.length;o++)for(var i=t[e[o]],a=0;a<i.length;a++){var s=i[a];if("string"==typeof s&&s===n){void 0===r&&(r=[]);break}if("object"==typeof s&&s.hasOwnProperty(n)){r=void 0===r?s[n]:r.concat(s[n]);break}}return r}function La(e,t){for(var n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"==typeof e[n]&&e[n].hasOwnProperty(t))return e[n][t]}}function Oa(e,t,n,r){var o,i=Pa(e,t,Ea);if(0===i.length)return!1;if(n&&!(o=Fa(i,Ea[t],n)))return!1;return!r||void 0!==La(o,r)}function ja(e,t,n,r,o){var i,a,s=Pa(e,t,Ta);if(0===s.length)return!1;if(n&&!(i=Fa(s,Ta[t],n)))return!1;return!(r&&void 0===(a=La(i,r))||o&&void 0===La(a,o))}var Na,Da,Ba=(Na=new Map,function(e){if(Na.has(e))return Na.get(e);var t=!1;return this.invokeMethod("canIUse",{schema:e},{beforeSuccess:function(n){t=n.data,Na.set(e,t)},beforeFail:function(e){t=!1}}),t});function Ra(e){if(void 0===e&&(e=""),"string"!=typeof e)throw new ft("canIUse: schema should be string");Da||(Da=this.systemInfo.getSystemInfoSync().SDKVersion);var t=e.split(".");return!!Oa.apply(void 0,[Da].concat(t))||ja.apply(void 0,[Da].concat(t))||Ba.call(this,e)}var za=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[Nr((function(){return Ur}))],key:"systemInfo",value:void 0},{kind:"field",decorators:[jr()],key:"canIUse",value:function(){return Ra}}]}}),Dr),Ua=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"requestAccess",value:function(){return this.createInvokeMethodApi("requestAccess")}}]}}),Dr),Wa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"openMyAI",value:function(){return this.createInvokeMethodApi("openMyAI")}}]}}),Dr),Va=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"addAppToTab",value:function(){return this.createInvokeMethodApi("addAppToTab")}},{kind:"field",decorators:[jr()],key:"removeAppFromTab",value:function(){return this.createInvokeMethodApi("removeAppFromTab")}},{kind:"field",decorators:[jr()],key:"checkAppExistInTab",value:function(){return this.createInvokeMethodApi("checkAppExistInTab")}}]}}),Dr),qa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",key:"inited",value:function(){return!1}},{kind:"field",key:"buf",value:void 0},{kind:"field",decorators:[jr()],key:"getStorage",value:function(){var e=this;return this.createInvokeMethodApi("getStorage",{addStandardError:!0,checkParams:{key:""},beforeSuccess:function(t,n){var r,o,i=t;(i.data=nn(i.data,i.dataType),r=null==n?void 0:n.get("key"))&&(null==(o=e.getStorageBuf())||o.set(r,i.data));delete i.dataType},beforeInvokeHook:function(t,n){var r,o,i=t.key;if(null!=(r=e.getStorageBuf())&&r.has(i))return null==(o=e.getStorageBuf())||null==o.getString?void 0:o.getString(i);null==n||n.set("key",i)}})}},{kind:"field",decorators:[jr()],key:"getStorageSync",value:function(){var e=this;return function(t){var n,r;if(e.beforeInvoke("getStorageSync",t,""))return(r=null==(n=e.getStorageBuf())||null==n.get?void 0:n.get(t))||e.invokeMethod("getStorageSync",{key:t},{beforeAll:function(e){void 0===e&&(e={}),r=nn(e.data,e.dataType)},beforeSuccess:function(){var n;null==(n=e.getStorageBuf())||n.set(t,r)}}),r}}},{kind:"field",decorators:[jr()],key:"setStorage",value:function(){var e=this;return this.createInvokeMethodApi("setStorage",{paramsTransformer:function(e,t){var n=e.key,r=e.data,o=tn(r);return null==t||t.set("data",r),null==t||t.set("key",n),Object.assign({},e,{key:n,data:o.data,dataType:o.dataType})},beforeSuccess:function(t,n){var r,o,i,a,s=t.currentSize;(null==(r=e.getStorageBuf())||null==r.setCurrentSize||r.setCurrentSize(s),(o=null==n?void 0:n.get("key"))&&(i=null==n?void 0:n.get("data")))&&(null==(a=e.getStorageBuf())||null==a.set||a.set(o,i))}})}},{kind:"field",decorators:[jr()],key:"setStorageSync",value:function(){var e=this;return function(t,n){if(void 0===n&&(n=""),e.beforeInvoke("setStorageSync",t,"")){var r,o,i=tn(n),a=i.data,s=i.dataType,c=!1,u="";if(e.invokeMethod("setStorageSync",{key:t,data:a,dataType:s,fail:function(e){void 0===e&&(e={}),u=e.errMsg,r=e.errString,o=e.errno,c=!0}},{beforeSuccess:function(r){var o,i,a=r.currentSize;(null==(o=e.getStorageBuf())||null==o.set||o.set(t,n),yt(a))&&(null==(i=e.getStorageBuf())||null==i.setCurrentSize||i.setCurrentSize(a))}}),c){var l=new ht(u);throw l.errString=r,l.errno=o,l}}}}},{kind:"field",decorators:[jr()],key:"removeStorage",value:function(){return this.createInvokeMethodApi("removeStorage",{addStandardError:!0,checkParams:{key:""}})}},{kind:"field",decorators:[jr()],key:"removeStorageSync",value:function(){var e=this;return function(t){e.beforeInvoke("removeStorageSync",t,"")&&e.invokeMethod("removeStorageSync",{key:t},{beforeSuccess:function(n){var r,o,i=n.currentSize;yt(i)&&(null==(o=e.getStorageBuf())||null==o.setCurrentSize||o.setCurrentSize(i));null==(r=e.getStorageBuf())||null==r.remove||r.remove(t)}})}}},{kind:"field",decorators:[jr()],key:"clearStorage",value:function(){var e=this;return this.createInvokeMethodApi("clearStorage",{beforeSuccess:function(t){var n,r,o=t.currentSize;yt(o)&&(null==(r=e.getStorageBuf())||null==r.setCurrentSize||r.setCurrentSize(o));null==(n=e.getStorageBuf())||null==n.clear||n.clear()}})}},{kind:"field",decorators:[jr()],key:"clearStorageSync",value:function(){var e=this;return function(){e.invokeMethod("clearStorageSync",{},{beforeSuccess:function(t){var n,r=t.currentSize;yt(r)&&(null==(n=e.getStorageBuf())||null==n.setCurrentSize||n.setCurrentSize(r))}})}}},{kind:"field",decorators:[jr()],key:"getStorageInfo",value:function(){var e=this;return this.createInvokeMethodApi("getStorageInfo",{beforeInvokeHook:function(){var t=e.getStorageBuf();if(t)return Object.assign({},t.storageInfo,{errMsg:""})}})}},{kind:"field",decorators:[jr()],key:"getStorageInfoSync",value:function(){var e=this;return function(){var t,n;return(n=null==(t=e.getStorageBuf())?void 0:t.storageInfo)||e.invokeMethod("getStorageInfoSync",{},{beforeAll:function(e){n=e,delete e.errMsg}}),n}}},{kind:"method",key:"getStorageBuf",value:function(){return this.inited||(this.buf=this.initBuf()),this.buf}},{kind:"method",key:"initBuf",value:function(){this.inited=!0}}]}}),Dr),Ha=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"startMFA",value:function(){return this.createInvokeMethodApi("startMFA",{addStandardError:!0,checkExtendParams:{mfaScope:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"checkMFA",value:function(){return this.createInvokeMethodApi("checkMFA",{addStandardError:!0,checkExtendParams:{mfaScope:{type:"String",required:!0},mfaToken:{type:"String",required:!0}}})}},{kind:"field",decorators:[jr()],key:"startThirdPartyMFA",value:function(){return this.createInvokeMethodApi("startThirdPartyMFA",{addStandardError:!0,checkExtendParams:{mfaKey:{type:"String",required:!0}}})}}]}}),Dr),Ja=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"grantScreenShot",value:function(){return this.createInvokeMethodApi("grantScreenShot")}}]}}),Dr),Ka=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"searchPOI",value:function(){return this.createInvokeMethodApi("searchPOI")}}]}}),Dr),Ga=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"MemoryWarning",value:function(){var e=this;return this.createNativeEventApi("onMemoryWarning",{whenListenerExisted:function(){e.invokeMethod("onMemoryWarning")},whenListenerEmptied:function(){}})}}]}}),Dr),Qa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"showLoading",value:function(e){void 0===e&&(e={});var t={icon:"loading",duration:864e5};e=Object.assign(e,t),this.beforeInvoke("showLoading",e,{title:"String"})&&this.invokeMethod("showToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}})}},{kind:"method",decorators:[jr()],key:"hideLoading",value:function(e){void 0===e&&(e={}),this.invokeMethod("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}}]}}),Dr),Za=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"ServerBadgePush",value:function(){return this.createNativeEventApi("serverBadgePushObserved")}},{kind:"field",decorators:[jr()],key:"startServerBadgePush",value:function(){return this.createInvokeMethodApi("onServerBadgePush")}},{kind:"field",decorators:[jr()],key:"stopServerBadgePush",value:function(){return this.createInvokeMethodApi("offServerBadgePush")}}]}}),Dr),$a=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"lwClosePage",value:function(){return this.createInvokeMethodApi("tt.navigation.closePage")}}]}}),Dr),Ya=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"lwOpenChat",value:function(){return this.createInvokeMethodApi("tt.chat.open")}}]}}),Dr),Xa=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"lwOpenProfile",value:function(){return this.createInvokeMethodApi("tt.user.openProfile")}},{kind:"field",decorators:[jr()],key:"lwGetUserInfo",value:function(){return this.createInvokeMethodApi("tt.user.getUserInfo")}}]}}),Dr),es=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"lwShowToast",value:function(){return this.createInvokeMethodApi("tt.interaction.showToast")}},{kind:"field",decorators:[jr()],key:"lwHideToast",value:function(){return this.createInvokeMethodApi("tt.interaction.hideToast")}}]}}),Dr);function ts(e){void 0===e&&(e={}),br("getBlockActionSourceDetail",e)}var ns=Fr("vibrateShort"),rs=Fr("vibrateLong");function os(e){void 0===e&&(e={}),e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||["front","back"],"boolean"!=typeof e.compressed&&(e.compressed=!0),br("chooseVideo",e)}function is(e){void 0===e&&(e={}),br("saveVideoToPhotosAlbum",e,{})}new(function(){function e(){}var t=e.prototype;return t.destroy=function(){},t.hide=function(){},t.show=function(){},l(e)}());var as=Fr("getSetting"),ss=Fr("openSetting");function cs(e){var t=e.errCode===co.Cancelled||e.errMsg.startsWith("uploadFile:fail Canceled"),n=t?Ge:Ke,r=t?"cancel":e.resultType,o=Date.now()-e.bizInvokeTime,i={request_trace:e.uploadTaskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:gt(e.url),request_biz_invoke_time:e.bizInvokeTime,error_code:e.errCode?e.errCode:0,error_msg:e.errMsg||"",errno:e.errno,err_string:e.errString,duration:o,result_type:r,request_version:"v2",api_name:"uploadFile",request_method:"string"==typeof e.method?e.method:gt(e.method)};tt(Be,n).setPlatform("TeaSlardar").addMap(i).flush()}var us=new wo.EventEmitter2,ls=new Map;function ds(e,t,n){return function(r){var o=r.payload,i=r.errCode,a=r.errno,s=r.errString,c=r.errMsg,u=null;if("string"==typeof o)try{u=JSON.parse(o)}catch(e){c="uploadFile:fail sdk parse payload error",D.error("[js-sdk-uploadFile] biz callback payload json parse error")}var l=u?Object.assign({trace:e.uploadTaskId,errMsg:c},u):{trace:e.uploadTaskId,errMsg:c};if(void 0!==a&&(l.errno=a),void 0!==s&&(l.errString=s),"success"===n&&u)"function"==typeof e.success&&e.success(l);else{var d=void 0===i?l:Object.assign({},l,{errCode:i});"function"==typeof e.fail&&e.fail(d)}"function"==typeof e.complete&&e.complete(l),us.removeAllListeners(e.uploadTaskId),cs({resultType:n,errMsg:c,bizInvokeTime:t,errCode:i,errno:a,errString:s,uploadTaskId:e.uploadTaskId,url:e.url,method:e.method})}}wr("onUploadFileProgress",(function(e){void 0===e&&(e={});var t=e,n=t.uploadTaskId,r=t.progress,o=t.totalBytesSent,i=t.totalBytesExpectedToSend;if(n){var a=ls.get(n);if((a||0===a)&&r<a)return;ls.set(n,r),us.emit(n,{progress:r,totalBytesSent:o,totalBytesExpectedToSend:i})}}));var fs=new WeakMap,hs=l((function e(t){var n=this;this.requestVersion="v2",this.requestId=void 0,this.abortController=void 0,this.uploadInH5Context=r(a.mark((function e(t,o,i){var s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign({},t,{uploadTaskId:o}),e.next=3,n.isUploadUseH5Impl();case 3:e.sent?br("readFile",{filePath:s.filePath,success:function(){var e=r(a.mark((function e(t){var r,c,u,l,d,f,h,p,v;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,c=0,(u=To(s.filePath))?(l=Fo((g=void 0,-1===(g=(a=u).lastIndexOf("."))?"":a.slice(g+1).toLowerCase())),d=new Blob([t.data],{type:l}),c+=d.size,r.append(s.name,d,u)):(f=new Blob([t.data],{type:Fo("")}),c+=f.size,r.append(s.name,f)),s.formData&&Object.keys(s.formData).forEach((function(e){var t=s.formData[e];r.append(e,t)})),void 0===n.abortController&&(n.abortController=new AbortController),e.next=8,fetch(s.url,{method:"POST",body:r,headers:s.header,signal:n.abortController.signal});case 8:return h=e.sent,e.next=11,h.text();case 11:p=e.sent,v=JSON.stringify({data:p,statusCode:h.status}),us.emit(o,{progress:100,totalBytesSent:c,totalBytesExpectedToSend:c}),ds(s,i,"success")({payload:v,errMsg:"uploadFile:ok"});case 15:case"end":return e.stop()}var a,g}),e)})));return function(t){return e.apply(this,arguments)}}(),fail:ds(s,i,"fail")}):Ir("uploadFile",t,Tt(),{errno:Ot,errString:Tt()});case 5:case"end":return e.stop()}}),e)}))),this.isUploadUseH5Impl=r(a.mark((function t(){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e.sUploadUseH5Impl&&(e.sUploadUseH5Impl=new Promise((function(e,t){br("getFilterFeatureGating",{fg_name:"calculated_fg_web_upload_h5",success:function(t){e(t.fg_value)},fail:function(t){D.error("getFilterFeatureGating upload err:",JSON.stringify(t)),e(!1)}})}))),t.abrupt("return",e.sUploadUseH5Impl);case 2:case"end":return t.stop()}}),t)}))),this.abort=r(a.mark((function e(){var t,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n.isUploadUseH5Impl();case 3:e.sent&&(n.abortController=null!=(t=n.abortController)?t:new AbortController,n.abortController.abort()),e.next=9;break;case 7:r=fs.get(n),br("uploadFileAbort",{payload:JSON.stringify({uploadTaskId:r})});case 9:case"end":return e.stop()}}),e)}))),this.onProgressUpdate=function(e){var t=fs.get(n);us.on(t,(function(t){"function"==typeof e&&en(e,"at UploadTask.onProgressUpdate callback function")(t)}))};var o=sn();this.requestId=o,fs.set(this,o);var i=Date.now();this.uploadInH5Context(t,o,i)}));function ps(e){void 0===e&&(e={});for(var t="",n="",r=["url","filePath","name"],o=0;o<r.length;o++){var i=r[o],a=gt(e[i]),s=gt("");if(a!==s){t="param."+i+" should pass "+s+", not "+a,n=wt(i);break}}if(t||Zt(e.url)||(t='invalid url "'+e.url+'"',n=bt("url")),!t&&("string"!=typeof e.method&&e.method||0===e.method)&&(t="param.method should pass string, not "+typeof e.method,n=wt("method")),t)return cs({resultType:"fail",errMsg:"uploadFile:fail "+t,bizInvokeTime:Date.now(),errCode:co.InvalidParam,errno:jt,errString:n,uploadTaskId:"",url:e.url,method:e.method}),void Ir("uploadFile",e,t,{errno:jt,errString:n});var c=Object.assign({},e);"object"!=typeof c.header&&void 0!==c.header&&(D.warn("uploadFile: header must be an object"),delete c.header),"object"!=typeof e.formData&&void 0!==e.formData&&(D.warn("uploadFile: formData must be an object"),delete c.formData),c.header=c.header?$t(c.header):{},c.formData=c.formData?$t(c.formData):{},["success","fail","complete"].forEach((function(e){var t=c[e];"function"==typeof t&&(c[e]=en(t,"at api uploadFile "+e+" callback function"))}));try{return new hs(c)}catch(t){cs({resultType:"fail",errMsg:"uploadFile:fail create UploadFile instant catch error",bizInvokeTime:Date.now(),errCode:co.InternalError,errno:Lt,errString:kt(),uploadTaskId:"",url:e.url,method:e.method}),Ir("uploadFile",e,t.message||"create UploadFile instant catch error",{errno:Lt,errString:kt()})}}hs.sUploadUseH5Impl=void 0;var vs="sending",gs="done",ms="aborted";var ys=new WeakMap,ks=new WeakMap,bs=new WeakMap,ws=new WeakMap,Ss=new WeakMap,_s=new WeakMap,Cs=new WeakMap,As=new WeakMap,Is=new WeakMap,Ms={},xs=new Map,Es=[],Ts=new wo.EventEmitter2;function Ps(e,t,n){var r=Is.get(e),o=ks.get(e)===ms,i=o?Ge:Ke,a=o?"cancel":t,s=ys.get(e),c=bs.get(e),u=Date.now()-c,l={request_trace:ws.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"POST",request_biz_invoke_time:bs.get(e),request_push_queue_time:Ss.get(e)||0,request_shift_queue_time:Cs.get(e)||0,request_queue_length:_s.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a,request_version:"v1",api_name:"uploadFile"};tt(Be,i).setPlatform("TeaSlardar").addMap(l).flush()}function Fs(e){return void 0===e&&(e={}),((null==void 0?void 0:undefined.agent)||{}).useNewUploadAPI,ps(e)}function Ls(e){var t=e.value,n=e.success,r=e.fail;return new Promise((function(e,o){br("setScreenBrightness",{value:t},{afterSuccess:function(t){e(n?n(t):t)},afterCancel:function(e){o(r?r(e):e)},afterFail:function(e){o(r?r(e):e)}})}))}function Os(e){var t=e.success,n=e.fail;return new Promise((function(e,r){br("getScreenBrightness",{},{afterSuccess:function(n){e(t?t(n):n)},afterCancel:function(e){r(n?n(e):e)},afterFail:function(e){r(n?n(e):e)}})}))}function js(e){void 0===e&&(e={}),void 0===e.keepScreenOn&&(e.keepScreenOn=!0),Ar("setKeepScreenOn",e,{keepScreenOn:!0},!0)&&br("setKeepScreenOn",e)}wr("onUploadTaskStateChange",(function(e){var t;void 0===e&&(e={});var n=e,r=n.state,o=n.uploadTaskId,i=null!=(t=xs.get(String(o)))?t:0;if(delete e.state,delete e.uploadTaskId,i&&Ts.emit(""+i+r,e),"success"===r||"fail"===r){if(Es.length>0){var a=Es.shift().item;Cs.set(a,Date.now()),function(e){var t,n=ys.get(e);As.set(e,Date.now());var r=e.id;ks.set(e,vs),br("createUploadTask",{url:n.url,header:n.header,filePath:n.filePath,name:n.name,formData:n.formData,taskId:r,success:function(t){ws.set(e,t.trace),e.taskId=String(t.uploadTaskId),xs.set(String(t.uploadTaskId),e.id),Ms[t.uploadTaskId]=e},fail:function(n){ws.set(e,n.trace),t=n.errMsg,Ps(e,"fail",t)},complete:function(){ks.set(e,gs)}}),t?setTimeout((function(){var e={errMsg:t.replace("createUploadTask","uploadFile")};"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)}),0):(Ts.on(e.id+"success",(function(e){e.errMsg="uploadFile:ok",e.statusCode=parseInt(e.statusCode,10),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,"function"==typeof n.success&&n.success(e),"function"==typeof n.complete&&n.complete(e)})),Ts.on(e.id+"fail",(function(e){e.errMsg="uploadFile:fail "+e.errMsg,"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)})))}(a)}var s=Ms[o];if(s){try{Ps(s,r,e.errMsg)}catch(e){}delete Ms[o],xs.delete(String(o)),Ts.removeAllListeners(i+"success"),Ts.removeAllListeners(i+"fail"),Ts.removeAllListeners(i+"progressUpdate")}}}));var Ns=Fr("getTenantAppScopes"),Ds=Fr("applyTenantAppScope"),Bs=new wo,Rs={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]},zs=Object.keys(Rs).map((function(e){return parseInt(e,10)}));function Us(e){br("operateRecorder",Object.assign({},e))}wr("onRecorderStateChange",(function(e){void 0===e&&(e={});var t=e.state;delete e.state,Bs.emit("onRecorderStateChange_"+t,e)}));var Ws={start:function(e){void 0===e&&(e={});var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,duration:6e4},e,{operationType:"start",fail:function(e){Bs.emit("onRecorderStateChange_error",e)}});if(-1===zs.indexOf(t.sampleRate))throw new Error('invalid sampleRate "'+t.sampleRate+'", sampleRate should be one of '+JSON.stringify(Object.keys(Rs)));Us(t)},pause:function(){Us({operationType:"pause",fail:function(e){Bs.emit("onRecorderStateChange_error",e)}})},resume:function(){Us({operationType:"resume",fail:function(e){Bs.emit("onRecorderStateChange_error",e)}})},stop:function(){Us({operationType:"stop",fail:function(e){Bs.emit("onRecorderStateChange_error",e)}})},getState:function(e){void 0===e&&(e={}),function(e){br("getRecorderState",Object.assign({},e))}(e)},onStart:function(e){Bs.removeAllListeners("onRecorderStateChange_start"),Bs.on("onRecorderStateChange_start",(function(t){"function"==typeof e&&en(e,"at recorderManager.onStart callback function")(t)}))},onResume:function(e){Bs.removeAllListeners("onRecorderStateChange_resume"),Bs.on("onRecorderStateChange_resume",(function(t){"function"==typeof e&&en(e,"at recorderManager.onResume callback function")(t)}))},onPause:function(e){Bs.removeAllListeners("onRecorderStateChange_pause"),Bs.on("onRecorderStateChange_pause",(function(t){"function"==typeof e&&en(e,"at recorderManager.onPause callback function")(t)}))},onStop:function(e){Bs.removeAllListeners("onRecorderStateChange_stop"),Bs.on("onRecorderStateChange_stop",(function(t){"function"==typeof e&&en(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded:function(e){Bs.removeAllListeners("onRecorderStateChange_frameRecorded"),Bs.on("onRecorderStateChange_frameRecorded",(function(t){if("function"==typeof e){var n=t.frameBuffer;"string"==typeof n&&(t.frameBuffer=q(n)),en(e,"at recorderManager.onFrameRecorded callback function")(t)}}))},onError:function(e){Bs.removeAllListeners("onRecorderStateChange_error"),Bs.on("onRecorderStateChange_error",(function(t){"function"==typeof e&&en(e,"at recorderManager.onError callback function")(t)}))}};function Vs(){return Ws}var qs=Fr("requestAuthCode"),Hs=[Ur,Wr,zr,Vr,Zr,$r,hi,pi,gi,Yr,to,ro,io,ao,uo,fo,ho,po,go,mo,yo,ko,bo,ui,di,mi,yi,ki,bi,_i,Ci,Ai,Ii,Mi,Pi,Fi,Li,Oi,ji,Wi,Vi,qi,Hi,Ji,Qi,Zi,$i,oa,ia,aa,sa,ma,ya,ka,ba,wa,Sa,_a,Ca,Aa,Ia,Ma,xa,za,Ua,Wa,Va,qa,Ha,Ja,Ka,Ga,Qa,Za,$a,Ya,Xa,es],Js=Object.freeze({__proto__:null,apis:Hs,getBlockActionSourceDetail:ts,vibrateLong:rs,vibrateShort:ns,chooseVideo:os,saveVideoToPhotosAlbum:is,getSetting:as,openSetting:ss,uploadFile:Fs,setKeepScreenOn:js,getTenantAppScopes:Ns,applyTenantAppScope:Ds,getRecorderManager:Vs,requestAuthCode:qs,getScreenBrightness:Os,setScreenBrightness:Ls}),Ks=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"print",value:function(){return this.createInvokeMethodApi("print",{checkParams:{url:""}})}}]}}),Dr),Gs=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"field",decorators:[jr()],key:"notifyIPAddressChange",value:function(){return this.createInvokeMethodApi("notifyIPAddressChange")}}]}}),Dr),Qs=gr(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(Q(n)),n}return S(n,t),l(n)}(t),d:[{kind:"method",decorators:[jr()],key:"setWindowSize",value:function(e){void 0===e&&(e={});var t=Pt(e,{windowWidth:{type:"Number",required:!1},windowHeight:{type:"Number",required:!1},x:{type:"Number",required:!1},y:{type:"Number",required:!1}});t?this.beforeInvokeFail("setWindowSize",e,t):this.invokeMethod("setWindowSize",e)}}]}}),Dr),Zs=[].concat(Hs,[eo,oo,Ks,lo,Gs,Qs]),$s=Object.freeze({__proto__:null,apis:Zs,getBlockActionSourceDetail:ts,vibrateLong:rs,vibrateShort:ns,chooseVideo:os,saveVideoToPhotosAlbum:is,getSetting:as,openSetting:ss,uploadFile:Fs,setKeepScreenOn:js,getTenantAppScopes:Ns,applyTenantAppScope:Ds,getRecorderManager:Vs,requestAuthCode:qs,getScreenBrightness:Os,setScreenBrightness:Ls}),Ys=/(Android|iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?Js:$s,Xs={};for(var ec in Ys)"apis"===ec?function(){var e=new Rr({appKey:"h5sdk",bridge:Mr,useNewDownloadAPI:!1,getJSSDKVersion:function(){return"undefined"!=typeof __JSSDK_VERSION__?__JSSDK_VERSION__:{}}},Ys[ec]);Se(e),Object.assign(Xs,e.exports);var t=[];Array.from(e.instance.values()).forEach((function(e){null!=e&&e.composeSafariCache&&t.push(e)})),window.addEventListener("pageshow",(function(e){var n={persisted:e.persisted,navigationType:window.performance.navigation.type};t.forEach((function(e){var t=null==e?void 0:e.composeSafariCache();Object.assign(n,t)})),br("pageshow",n)})),document.addEventListener("visibilitychange",(function(e){var n={visibilityState:document.visibilityState};t.forEach((function(e){var t=null==e?void 0:e.composeSafariCache();Object.assign(n,t)})),br("visibilitychange",n)}))}():Xs[ec]=Ys[ec];var tc=function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];if("META"===r.nodeName&&r.hasAttribute("lk-config")){t=!0;break}}return t};!function(){var e=[],t=null,n=function(){Vn.invoke("monitorReport",{monitorEvents:e}),e=[],clearTimeout(t),t=null},r=new Ie({report:function(r){var o=r.name,i=r.metrics,a=void 0===i?{}:i,s=r.categories,c=void 0===s?{}:s,u=a.monitor_level;e.push({name:o,metrics:a,categories:c}),e.length>=20||u>=te.error?n():t||(t=setTimeout((function(){n()}),4e3))},log:function(e){}});Me.setup(r)}(),window.dispatchEvent(new CustomEvent("WebViewJSBridgeReady"));var nc={biz:Kn,device:Yn,appCenter:er};cr(nc,sr);var rc,oc,ic,ac,sc=null,cc=[],uc=[];if(window.ttJSBridge=null,g.versions.mobileFeishu||g.versions.PCFeishu){(ac=null==Xs?void 0:Xs.updateMeta)(),new MutationObserver((function(e){(function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[0];if("childList"===r.type){var o,i;if(null!=(o=r.addedNodes)&&o.length){var a=tc(r.addedNodes);if(t=a,a)break}if(null!=(i=r.removedNodes)&&i.length){var s=tc(r.removedNodes);if(t=s,s)break}}if("attributes"===r.type&&"META"===r.target.nodeName&&r.target.hasAttribute("lk-config")){t=!0;break}}return t})(e)&&ac()})).observe(document.head,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["name","content","lk-config"]});var lc={setConfig:function(e){Object.assign(ur,e)},config:function(e){var t={appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:e.jsApiList};return function(e){e}(e.appId),sc=new Promise(r(a.mark((function n(r,o){return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"string"==typeof g.versions.larkVersion&&b(g.versions.larkVersion,"3.9.0")>=0?Wn.invoke("config",t,{onSuccess:function(t){r(t),"function"==typeof e.onSuccess&&e.onSuccess(t),cc.forEach((function(e){return e()})),cc.length=0},onFail:function(t){o(t),"function"==typeof e.onFail&&uc.push(e.onFail),uc.forEach((function(e){"function"==typeof e&&e(t)}))}}):r();case 1:case"end":return n.stop()}}),n)}))))},ready:(ic=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir({api:nc,browser:g,build:"cdn",SDK:lc});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),k(null==e.t0?void 0:e.t0.message,!0);case 8:if(!sc){e.next=18;break}return e.prev=9,e.next=12,sc;case 12:e.next=16;break;case 14:e.prev=14,e.t1=e.catch(9);case 16:e.next=19;break;case 18:k("please invoke h5sdk.config before invoke h5sdk.ready锛宱therwise the interface call may fail",!0);case 19:t();case 20:case"end":return e.stop()}}),e,null,[[0,5],[9,14]])}))),function(e){return ic.apply(this,arguments)}),error:(oc=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uc.push(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return oc.apply(this,arguments)}),updateMeta:function(){null==Xs||Xs.updateMeta()},addReadySuccessCallback:(rc=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cc.push(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return rc.apply(this,arguments)})};ir({api:nc,browser:g,build:"cdn",SDK:lc}),window.lark?Object.assign(window.lark,lc):window.lark=lc,window.h5sdk?Object.assign(window.h5sdk,lc):window.h5sdk=lc,window.tt?Object.assign(window.tt,Xs):window.tt=Xs,window.ttJSBridge=Vn}}));